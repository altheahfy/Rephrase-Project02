# æ¯”è¼ƒç´šãƒ»æœ€ä¸Šç´šã‚¨ãƒ³ã‚¸ãƒ³ åˆ†è§£ãƒ‘ã‚¿ãƒ¼ãƒ³è¨­è¨ˆä»•æ§˜æ›¸

## ğŸ“‹ å®Ÿè£…äºˆå®šæ¦‚è¦

**ã‚¨ãƒ³ã‚¸ãƒ³å**: Comparative/Superlative Engine  
**å®Ÿè£…æ—¥**: 2025å¹´8æœˆ12æ—¥  
**çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: Phase 2 é«˜é »åº¦æ§‹æ–‡ãƒ‘ã‚¿ãƒ¼ãƒ³  
**å‡¦ç†å¯¾è±¡**: æ¯”è¼ƒç´šãƒ»æœ€ä¸Šç´šæ§‹æ–‡ã®ä¸Šä½+ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆäºŒé‡åˆ†è§£  

---

## ğŸ¯ åˆ†è§£ãƒ‘ã‚¿ãƒ¼ãƒ³è©³ç´°äºˆå®š

### 1. æ¯”è¼ƒç´šãƒ‘ã‚¿ãƒ¼ãƒ³ (Comparative)

#### **A. å½¢å®¹è©æ¯”è¼ƒç´š**
```
å…¥åŠ›: "This book is more interesting than that one."
äºˆå®šåˆ†è§£:
â”œâ”€â”€ ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆ (ç‹¬ç«‹æ–‡ç”¨)
â”‚   â”œâ”€â”€ S: "This book"
â”‚   â”œâ”€â”€ V: "is" 
â”‚   â”œâ”€â”€ C1: "more interesting"
â”‚   â””â”€â”€ M2: "than that one"
â”œâ”€â”€ ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆ (å¾“å±ç¯€ç”¨) â€»åŒã˜åŸºæœ¬æ§‹é€ ã‚’ç¶­æŒ
â”‚   â”œâ”€â”€ sub-s: "This book"
â”‚   â”œâ”€â”€ sub-v: "is"
â”‚   â”œâ”€â”€ sub-c1: "more interesting"
â”‚   â””â”€â”€ sub-m2: "than that one"
â””â”€â”€ æ¯”è¼ƒæ§‹é€ ãƒ¡ã‚¿æƒ…å ±
    â”œâ”€â”€ comparison_type: "adjective_comparative"
    â”œâ”€â”€ base_form: "interesting"
    â”œâ”€â”€ comparative_form: "more interesting"
    â””â”€â”€ comparison_object: "that one"
```

#### **B. å‰¯è©æ¯”è¼ƒç´š**
```
å…¥åŠ›: "She runs faster than him."
äºˆå®šåˆ†è§£:
â”œâ”€â”€ ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆ
â”‚   â”œâ”€â”€ S: "She"
â”‚   â”œâ”€â”€ V: "runs"
â”‚   â”œâ”€â”€ M1: "faster"
â”‚   â””â”€â”€ M2: "than him"
â”œâ”€â”€ ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆ â€»åŒã˜åŸºæœ¬æ§‹é€ ã‚’ç¶­æŒ
â”‚   â”œâ”€â”€ sub-s: "She"
â”‚   â”œâ”€â”€ sub-v: "runs" 
â”‚   â”œâ”€â”€ sub-m1: "faster"
â”‚   â””â”€â”€ sub-m2: "than him"
â””â”€â”€ æ¯”è¼ƒæ§‹é€ ãƒ¡ã‚¿æƒ…å ±
    â”œâ”€â”€ comparison_type: "adverb_comparative"
    â”œâ”€â”€ base_form: "fast"
    â”œâ”€â”€ comparative_form: "faster"
    â””â”€â”€ comparison_object: "him"
```

#### **C. æ•°é‡æ¯”è¼ƒç´š**
```
å…¥åŠ›: "I have more money than you."
äºˆå®šåˆ†è§£:
â”œâ”€â”€ ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆ
â”‚   â”œâ”€â”€ S: "I"
â”‚   â”œâ”€â”€ V: "have"
â”‚   â”œâ”€â”€ O1: "more money"
â”‚   â””â”€â”€ M2: "than you"
â”œâ”€â”€ ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆ â€»åŒã˜åŸºæœ¬æ§‹é€ ã‚’ç¶­æŒ
â”‚   â”œâ”€â”€ sub-s: "I"
â”‚   â”œâ”€â”€ sub-v: "have"
â”‚   â”œâ”€â”€ sub-o1: "more money"
â”‚   â””â”€â”€ sub-m2: "than you"
â””â”€â”€ æ¯”è¼ƒæ§‹é€ ãƒ¡ã‚¿æƒ…å ±
    â”œâ”€â”€ comparison_type: "quantity_comparative"
    â”œâ”€â”€ quantity_word: "more"
    â”œâ”€â”€ base_noun: "money"
    â””â”€â”€ comparison_object: "you"
```

### 2. æœ€ä¸Šç´šãƒ‘ã‚¿ãƒ¼ãƒ³ (Superlative)

#### **A. å½¢å®¹è©æœ€ä¸Šç´š**
```
å…¥åŠ›: "This is the most beautiful flower in the garden."
äºˆå®šåˆ†è§£:
â”œâ”€â”€ ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆ
â”‚   â”œâ”€â”€ S: "This"
â”‚   â”œâ”€â”€ V: "is"
â”‚   â”œâ”€â”€ C1: "the most beautiful flower"
â”‚   â””â”€â”€ M2: "in the garden"
â”œâ”€â”€ ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆ â€»åŒã˜åŸºæœ¬æ§‹é€ ã‚’ç¶­æŒ
â”‚   â”œâ”€â”€ sub-s: "This"
â”‚   â”œâ”€â”€ sub-v: "is"
â”‚   â”œâ”€â”€ sub-c1: "the most beautiful flower"
â”‚   â””â”€â”€ sub-m2: "in the garden"
â””â”€â”€ æœ€ä¸Šç´šæ§‹é€ ãƒ¡ã‚¿æƒ…å ±
    â”œâ”€â”€ superlative_type: "adjective_superlative"
    â”œâ”€â”€ base_form: "beautiful"
    â”œâ”€â”€ superlative_form: "most beautiful"
    â”œâ”€â”€ noun: "flower"
    â””â”€â”€ scope: "in the garden"
```

#### **B. å‰¯è©æœ€ä¸Šç´š**
```
å…¥åŠ›: "She speaks English most fluently among all students."
äºˆå®šåˆ†è§£:
â”œâ”€â”€ ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆ
â”‚   â”œâ”€â”€ S: "She"
â”‚   â”œâ”€â”€ V: "speaks"
â”‚   â”œâ”€â”€ O1: "English"
â”‚   â”œâ”€â”€ M1: "most fluently"
â”‚   â””â”€â”€ M2: "among all students"
â”œâ”€â”€ ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆ â€»åŒã˜åŸºæœ¬æ§‹é€ ã‚’ç¶­æŒ
â”‚   â”œâ”€â”€ sub-s: "She"
â”‚   â”œâ”€â”€ sub-v: "speaks"
â”‚   â”œâ”€â”€ sub-o1: "English"
â”‚   â”œâ”€â”€ sub-m1: "most fluently"
â”‚   â””â”€â”€ sub-m2: "among all students"
â””â”€â”€ æœ€ä¸Šç´šæ§‹é€ ãƒ¡ã‚¿æƒ…å ±
    â”œâ”€â”€ superlative_type: "adverb_superlative"
    â”œâ”€â”€ base_form: "fluent"
    â”œâ”€â”€ superlative_form: "most fluently"
    â””â”€â”€ scope: "among all students"
```

### 3. ç‰¹æ®Šæ¯”è¼ƒæ§‹æ–‡

#### **A. as...asæ§‹æ–‡ (åŒç­‰æ¯”è¼ƒ)**
```
å…¥åŠ›: "He is as tall as his brother."
äºˆå®šåˆ†è§£:
â”œâ”€â”€ ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆ
â”‚   â”œâ”€â”€ S: "He"
â”‚   â”œâ”€â”€ V: "is"
â”‚   â”œâ”€â”€ C1: "as tall"
â”‚   â””â”€â”€ M2: "as his brother"
â”œâ”€â”€ ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆ â€»åŒã˜åŸºæœ¬æ§‹é€ ã‚’ç¶­æŒ
â”‚   â”œâ”€â”€ sub-s: "He"
â”‚   â”œâ”€â”€ sub-v: "is"
â”‚   â”œâ”€â”€ sub-c1: "as tall"
â”‚   â””â”€â”€ sub-m2: "as his brother"
â””â”€â”€ åŒç­‰æ¯”è¼ƒãƒ¡ã‚¿æƒ…å ±
    â”œâ”€â”€ comparison_type: "equal_comparison"
    â”œâ”€â”€ adjective: "tall"
    â””â”€â”€ comparison_object: "his brother"
```

#### **B. the...theæ§‹æ–‡ (æ¯”ä¾‹æ¯”è¼ƒ)**
```
å…¥åŠ›: "The harder you work, the more successful you become."
äºˆå®šåˆ†è§£:
â”œâ”€â”€ ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆ â€»Rephraseã¯3é‡å…¥ã‚Œå­ã‚’æ‰±ã‚ãªã„ãŸã‚ã€ã“ã‚ŒãŒã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆã«å…¥ã‚‹ã“ã¨ã¯ãªã„
â”‚   â”œâ”€â”€ M1: "The harder you work"
â”‚   â”œâ”€â”€ M2: "the more"
â”‚   â”œâ”€â”€ C1: "successful"
â”‚   â”œâ”€â”€ S: "you"
â”‚   â””â”€â”€ V: "become"
â”œâ”€â”€ M1å†…éƒ¨ã®ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆåˆ†è§£ ("The harder you work")
â”‚   â”œâ”€â”€ sub-m1: "the harder"
â”‚   â”œâ”€â”€ sub-s: "you"
â”‚   â””â”€â”€ sub-v: "work"
â””â”€â”€ æ¯”ä¾‹æ¯”è¼ƒãƒ¡ã‚¿æƒ…å ±
    â”œâ”€â”€ comparison_type: "proportional_comparison"
    â”œâ”€â”€ condition_clause: "The harder you work"
    â”œâ”€â”€ result_clause: "the more successful you become"
    â”œâ”€â”€ comparative1: "harder"
    â””â”€â”€ comparative2: "more successful"
```

---

## ğŸ”§ æŠ€è¡“å®Ÿè£…äºˆå®š

### Stanzaä¾å­˜é–¢ä¿‚åˆ†æãƒ‘ã‚¿ãƒ¼ãƒ³

#### **æ¯”è¼ƒç´šæ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³**
```python
# æƒ³å®šã•ã‚Œã‚‹ä¾å­˜é–¢ä¿‚ãƒ©ãƒ™ãƒ«
- amod: å½¢å®¹è©ä¿®é£¾ ("more interesting book")
- advmod: å‰¯è©ä¿®é£¾ ("runs faster")
- mark: æ¯”è¼ƒæ¥ç¶šè© ("than")
- nmod: æ¯”è¼ƒå¯¾è±¡ ("than him")
- det: é™å®šè© ("the most")
```

#### **æœ€ä¸Šç´šæ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³**  
```python
# æƒ³å®šã•ã‚Œã‚‹ä¾å­˜é–¢ä¿‚ãƒ©ãƒ™ãƒ«
- det: å®šå† è© ("the")
- amod: æœ€ä¸Šç´šå½¢å®¹è© ("most beautiful")  
- nmod: ç¯„å›²å¥ ("in the garden")
- case: å‰ç½®è© ("in", "among", "of")
```

### ã‚¨ãƒ³ã‚¸ãƒ³å‡¦ç†ãƒ•ãƒ­ãƒ¼äºˆå®š

```python
class ComparativeSuperlativeEngine:
    def process(self, sentence):
        # 1. æ¯”è¼ƒæ§‹æ–‡æ¤œå‡º
        comparative_info = self._detect_comparative_structure(sentence)
        
        # 2. ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†é¡
        if comparative_info['type'] == 'comparative':
            return self._process_comparative(sentence, comparative_info)
        elif comparative_info['type'] == 'superlative':
            return self._process_superlative(sentence, comparative_info)
        elif comparative_info['type'] == 'equal':
            return self._process_equal_comparison(sentence, comparative_info)
        
        # 3. çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†è§£
        return self._unified_decomposition(sentence, comparative_info)
    
    def process_as_subslot(self, sentence):
        # å¾“å±ç¯€å†…æ¯”è¼ƒæ§‹æ–‡ã®ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆå°‚ç”¨å‡¦ç†
        return self._process_comparative_as_subslot(sentence)
```

---

## ğŸ¯ å®Ÿè£…å„ªå…ˆé †ä½

### **Phase 1: åŸºæœ¬æ¯”è¼ƒæ§‹æ–‡**
1. å½¢å®¹è©æ¯”è¼ƒç´š (`more/er + than`)
2. å½¢å®¹è©æœ€ä¸Šç´š (`most/est`)
3. å‰¯è©æ¯”è¼ƒç´šãƒ»æœ€ä¸Šç´š

### **Phase 2: ç‰¹æ®Šæ¯”è¼ƒæ§‹æ–‡**  
4. as...asæ§‹æ–‡ (åŒç­‰æ¯”è¼ƒ)
5. æ•°é‡æ¯”è¼ƒ (more/less)
6. the...theæ§‹æ–‡ (æ¯”ä¾‹æ¯”è¼ƒ)

### **Phase 3: è¤‡åˆæ¯”è¼ƒæ§‹æ–‡**
7. æ¯”è¼ƒç´š + é–¢ä¿‚è©ç¯€
8. æ¯”è¼ƒç´š + åˆ†è©æ§‹æ–‡  
9. æ¯”è¼ƒç´š + ä¸å®šè©å¥

---

## ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‡¦ç†çµæœä¾‹

### **çµ±åˆä¾‹: è¤‡åˆæ¯”è¼ƒæ§‹æ–‡**
```
å®Œå…¨æ–‡: "Because this method is more efficient than the traditional approach, we should adopt it."

å¾“å±ç¯€å‡¦ç†:
â”œâ”€â”€ Conjunction Engine â†’ M1: "Because this method is more efficient than the traditional approach"
â””â”€â”€ Comparative Engine (ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆå‡¦ç†):
    â”œâ”€â”€ sub-s: "this method"
    â”œâ”€â”€ sub-v: "is" 
    â”œâ”€â”€ sub-c1: "more efficient"
    â””â”€â”€ sub-m2: "than the traditional approach"

æœ€çµ‚çµ±åˆçµæœ:
â”œâ”€â”€ M1: "Because this method is more efficient than the traditional approach" (ä¸Šä½)
â”œâ”€â”€ S: "we", V: "should adopt", O1: "it" (ä¸»ç¯€)
â””â”€â”€ sub-s: "this method", sub-c1: "more efficient", sub-m2: "than the traditional approach" (ã‚µãƒ–)
```

ã“ã®è©³ç´°ãªåˆ†è§£ãƒ‘ã‚¿ãƒ¼ãƒ³äºˆå®šã«åŸºã¥ã„ã¦ã€æ¯”è¼ƒç´šãƒ»æœ€ä¸Šç´šã‚¨ãƒ³ã‚¸ãƒ³ã®å®Ÿè£…ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ
