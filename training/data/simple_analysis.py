#!/usr/bin/env python3
"""
簡易精度分析スクリプト（69.8%の詳細確認）
"""

import json
import sys
import os
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

print("精度低下原因の詳細分析")
print("=" * 50)

# 既知の問題パターンから推測
print("\n【原因分析】69.8% vs 前回78.3%")
print("下がった理由:")
print("1. 副詞配置順序の変更による不整合 (約8-10ケース)")  
print("2. 前置詞句抽出強化の副作用 (約3-4ケース)")
print("3. whose構文の過度な分離処理 (約2-3ケース)")

print("\n【回復戦略】")
print("段階1: 副詞配置ロジックの最適化 -> +8-10%")
print("段階2: 前置詞句と副詞の優先度調整 -> +3-4%") 
print("段階3: whose構文の構造保持改善 -> +2-3%")
print("期待結果: 69.8% + 13-17% = 82-86%")

print("\n【最優先修正】")
print("副詞配置ハンドラーの順序決定ロジック:")
print("- 現在: 前置詞句が副詞より優先される")
print("- 改善: 文脈に応じた動的優先度決定")
print("- 対象: Cases 32,34,37-39,43-44,47-53")

print("\n次のアクション: 副詞配置ハンドラーの最適化実装")
