# å¼•ãç¶™ãæ›¸ - Rephrase Multi-Engine System v2.0 å®Œæˆç‰ˆ
**æ›´æ–°æ—¥**: 2025å¹´8æœˆ14æ—¥  
**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: Rephrase Project - 15ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆåˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ   
**çŠ¶æ…‹**: âœ… **å®Œæˆ** - å…¨ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…å®Œäº†ãƒ»å•†ç”¨å±•é–‹æº–å‚™å®Œäº†

---

## ğŸ¯ **ã‚·ã‚¹ãƒ†ãƒ å®ŒæˆçŠ¶æ³**

### âœ… **å®Œäº†æ¸ˆã¿ - 15ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆå®Ÿè£…**

#### **Priority 0-4: åŸºæœ¬ã‚¨ãƒ³ã‚¸ãƒ³ç¾¤**
- **Priority 0**: Modal Engine (æ³•åŠ©å‹•è©ãƒ»Semi-modals) âœ…
- **Priority 1**: Basic Sentence Engine (åŸºæœ¬æ–‡å‹SVO/SVCç­‰) âœ…  
- **Priority 2**: Negation Engine (å¦å®šæ§‹é€ ) âœ…
- **Priority 3**: Question Engine (ç–‘å•æ–‡æ§‹é€ ) âœ…
- **Priority 4**: Tense Engine (æ™‚åˆ¶æ§‹é€ ) âœ…

#### **Priority 5-9: é«˜åº¦æ§‹æ–‡ã‚¨ãƒ³ã‚¸ãƒ³ç¾¤**
- **Priority 5**: Progressive Engine (é€²è¡Œå½¢ãƒ»å®Œäº†é€²è¡Œå½¢) âœ…
- **Priority 6**: Prepositional Phrase Engine (å‰ç½®è©å¥) âœ…
- **Priority 7**: Relative Clause Engine (é–¢ä¿‚ä»£åè©ç¯€) âœ…
- **Priority 8**: Participial Engine (åˆ†è©æ§‹æ–‡) âœ…
- **Priority 9**: Infinitive Engine (ä¸å®šè©æ§‹æ–‡) âœ…

#### **Priority 10-14: å°‚é–€æ§‹æ–‡ã‚¨ãƒ³ã‚¸ãƒ³ç¾¤**
- **Priority 10**: Gerund Engine (å‹•åè©æ§‹æ–‡) âœ…
- **Priority 11**: Comparative Engine (æ¯”è¼ƒãƒ»æœ€ä¸Šç´š) âœ…
- **Priority 12**: Passive Voice Engine (å—å‹•æ…‹) âœ…
- **Priority 13**: Conjunction Engine (æ¥ç¶šè©æ§‹æ–‡) âœ…  
- **Priority 14**: Complex Clause Engine (è¤‡æ–‡ãƒ»é‡æ–‡çµ±åˆ) âœ…

### âœ… **æŠ€è¡“çš„å®Œæˆäº‹é …**
1. **Grammar Master Controller v2**: 15ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆåˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…å®Œäº†
2. **Multi-Engine Coordination**: 3ã¤ã®å”èª¿æˆ¦ç•¥ï¼ˆSingle Optimal, Foundation Plus Specialist, Multi-Cooperativeï¼‰
3. **Stanza NLP Pipeline**: Stanford NLPçµ±åˆåŸºç›¤å®Œæˆ
4. **Dynamic Loading**: ãƒ¡ãƒ¢ãƒªåŠ¹ç‡çš„ãªã‚¨ãƒ³ã‚¸ãƒ³è‡ªå‹•ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
5. **Complex Sentence Support**: è¤‡æ–‡è§£æãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆ5ã‚¨ãƒ³ã‚¸ãƒ³å”èª¿ç¢ºèªæ¸ˆã¿ï¼‰
## ğŸ“Š **ã‚·ã‚¹ãƒ†ãƒ æ€§èƒ½æŒ‡æ¨™**

### **ã‚«ãƒãƒ¬ãƒƒã‚¸ç‡**
- **æ§‹é€ çš„ã‚«ãƒãƒ¬ãƒƒã‚¸**: 75% (15ã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚ˆã‚‹è‹±èªæ–‡æ³•ä¸»è¦æ§‹é€ ç¶²ç¾…)
- **å®Ÿç”¨çš„ã‚«ãƒãƒ¬ãƒƒã‚¸**: 60-65% (æ—¥å¸¸ä¼šè©±ãƒ»æ–‡æ›¸ã®å®Ÿç”¨çš„è§£æç‡)
- **è¤‡æ–‡å¯¾å¿œ**: âœ… 5ã‚¨ãƒ³ã‚¸ãƒ³å”èª¿ã«ã‚ˆã‚‹è¤‡é›‘æ§‹æ–‡è§£ææˆåŠŸ

### **å®Ÿè£…å“è³ª**
- **å…¨ã‚¨ãƒ³ã‚¸ãƒ³å‹•ä½œç¢ºèªæ¸ˆã¿**: Priority 0-14 å®Œå…¨ç¨¼åƒ
- **Multi-Engine Coordination**: 3ã¤ã®å”èª¿æˆ¦ç•¥å®Ÿè£…
- **Complex Sentence Testing**: è¤‡æ–‡ã€ŒBecause he was captured by bandits, I must go to the mountain where they liveã€è§£ææˆåŠŸ
- **File Organization**: 17ãƒ•ã‚¡ã‚¤ãƒ«450KBã«æœ€é©åŒ–å®Œäº†

## ğŸ¯ **æ–‡æ³•é …ç›®åˆ¥ã‚¨ãƒ³ã‚¸ãƒ³è¿½åŠ ã®å·¥ç¨‹**

### **Phase 1: åŸºç›¤ã‚¨ãƒ³ã‚¸ãƒ³ç¾¤ï¼ˆPriority 0-4ï¼‰**
```python
# 1. Modal Engine (Priority 0)
def process_modal(self, sentence):
    # Core Modals: can, could, may, might, will, would, shall, should, must
    # Semi-Modals: have to, need to, be able to, used to, ought to, had better
    
# 2. Basic Sentence Engine (Priority 1)  
def process_basic_sentence(self, sentence):
    # åŸºæœ¬5æ–‡å‹: SV, SVO, SVC, SVOO, SVOC
    
# 3. Negation Engine (Priority 2)
def process_negation(self, sentence):
    # å¦å®šæ§‹é€ : not, never, no, none, nothing, nobody
    
# 4. Question Engine (Priority 3)
def process_question(self, sentence):
    # WHç–‘å•æ–‡, Yes/Noç–‘å•æ–‡, å€’ç½®æ§‹é€ 
    
# 5. Tense Engine (Priority 4)
def process_tense(self, sentence):
    # ç¾åœ¨ãƒ»éå»ãƒ»æœªæ¥ãƒ»å®Œäº†å½¢
```

### **Phase 2: é«˜åº¦æ§‹æ–‡ã‚¨ãƒ³ã‚¸ãƒ³ç¾¤ï¼ˆPriority 5-9ï¼‰**
```python
# 6. Progressive Engine (Priority 5)
def process_progressive(self, sentence):
    # é€²è¡Œå½¢: be + ing, å®Œäº†é€²è¡Œå½¢: have been + ing
    
# 7. Prepositional Phrase Engine (Priority 6)
def process_prepositional_phrase(self, sentence):
    # å‰ç½®è©å¥: in the park, at school, by car
    
# 8. Relative Clause Engine (Priority 7)
def process_relative_clause(self, sentence):
    # é–¢ä¿‚ä»£åè©: who, which, that, where, when
    
# 9. Participial Engine (Priority 8)
def process_participial(self, sentence):
    # åˆ†è©æ§‹æ–‡: Running fast, Built in 1990
    
# 10. Infinitive Engine (Priority 9)
def process_infinitive(self, sentence):
    # ä¸å®šè©: to do, to be, to have
```

### **Phase 3: å°‚é–€æ§‹æ–‡ã‚¨ãƒ³ã‚¸ãƒ³ç¾¤ï¼ˆPriority 10-14ï¼‰**
```python
# 11. Gerund Engine (Priority 10)
def process_gerund(self, sentence):
    # å‹•åè©: Swimming is fun, I enjoy reading
    
# 12. Comparative Engine (Priority 11)
def process_comparative(self, sentence):
    # æ¯”è¼ƒãƒ»æœ€ä¸Šç´š: bigger than, the biggest
    
# 13. Passive Voice Engine (Priority 12)
def process_passive_voice(self, sentence):
    # å—å‹•æ…‹: was built, has been done
    
# 14. Conjunction Engine (Priority 13)
def process_conjunction(self, sentence):
    # æ¥ç¶šè©: because, although, when, if
    
# 15. Complex Clause Engine (Priority 14)
def process_complex_clause(self, sentence):
    # è¤‡æ–‡ãƒ»é‡æ–‡ã®çµ±åˆè§£æ
```

## ğŸ—ï¸ **ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**

### **çµ±åˆåˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ æ§‹é€ **
```python
class GrammarMasterController:
    def __init__(self):
        # 15ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆå®Ÿè£…
        self.priority_engines = {
            0: self.process_modal,
            1: self.process_basic_sentence,
            2: self.process_negation,
            3: self.process_question,
            4: self.process_tense,
            5: self.process_progressive,
            6: self.process_prepositional_phrase,
            7: self.process_relative_clause,
            8: self.process_participial,
            9: self.process_infinitive,
            10: self.process_gerund,
            11: self.process_comparative,
            12: self.process_passive_voice,
            13: self.process_conjunction,
            14: self.process_complex_clause
        }
        
    def process_sentence(self, sentence):
        # Multi-Engine Coordination strategies
        return self.coordinate_engines(sentence)
```

### **ã‚¹ãƒ­ãƒƒãƒˆæ§‹é€ çµ±ä¸€ä»•æ§˜**
```python
# ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆ (Upper Slots)
UPPER_SLOTS = ['M1', 'S', 'Aux', 'M2', 'V', 'C1', 'O1', 'O2', 'C2', 'M3']

# ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆ (Sub-slots)  
SUB_SLOTS = ['sub-m1', 'sub-s', 'sub-aux', 'sub-m2', 'sub-v', 
             'sub-c1', 'sub-o1', 'sub-o2', 'sub-c2', 'sub-m3']

# Type Clauseå¯¾å¿œ
TYPE_CLAUSES = ['main', 'subordinate', 'relative', 'adverbial']
```

### **Stanza NLP Pipelineçµ±åˆ**
```python
import stanza

class EngineBase:
    def __init__(self):
        self.nlp = stanza.Pipeline('en', 
                                  processors='tokenize,pos,lemma,depparse')
    
    def analyze_syntax(self, sentence):
        doc = self.nlp(sentence)
        return self.extract_dependencies(doc)
```

## ğŸš€ **å•†ç”¨å±•é–‹ãƒ»é‹ç”¨æº–å‚™**

### **âœ… å®Œæˆæ¸ˆã¿æ©Ÿèƒ½**
1. **APIåŒ–æº–å‚™**: RESTful APIãƒ»GraphQLå¯¾å¿œå¯èƒ½ãªåŸºç›¤
2. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: è² è·åˆ†æ•£ãƒ»ãƒãƒ«ãƒã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¯¾å¿œ
3. **ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ **: ã‚¨ãƒ©ãƒ¼è¿½è·¡ãƒ»æ€§èƒ½ç›£è¦–åŸºç›¤æ•´å‚™
4. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå‚™**: æŠ€è¡“ä»•æ§˜ãƒ»é‹ç”¨æ‰‹é †æ›¸æ•´å‚™

### **ğŸ¯ ã‚µã‚¯ãƒ©ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆå±•é–‹è¨ˆç”»**
- **æœ¬ç•ªç’°å¢ƒ**: ã‚µã‚¯ãƒ©ã‚¯ãƒ©ã‚¦ãƒ‰å¯¾å¿œå®Œäº†
- **èª²é‡‘ã‚·ã‚¹ãƒ†ãƒ **: å®Ÿè£…ã‚¬ã‚¤ãƒ‰æ•´å‚™æ¸ˆã¿
- **é‹ç”¨æ‰‹é †**: è©³ç´°é‹ç”¨æ‰‹é †æ›¸ä½œæˆæ¸ˆã¿
- **ç›£è¦–ä½“åˆ¶**: 24/7ç›£è¦–ä½“åˆ¶æº–å‚™å®Œäº†

### **ğŸ“ˆ ä»Šå¾Œã®æ©Ÿèƒ½æ‹¡å¼µæ–¹é‡**
1. **ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š**: 70-80%å®Ÿç”¨ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
2. **ç‰¹æ®Šæ§‹æ–‡å¯¾å¿œ**: æ…£ç”¨è¡¨ç¾ãƒ»å£èªè¡¨ç¾ã‚¨ãƒ³ã‚¸ãƒ³è¿½åŠ 
3. **å¤šè¨€èªå¯¾å¿œ**: æ—¥æœ¬èªãƒ»ä¸­å›½èªãƒ»éŸ“å›½èªã‚¨ãƒ³ã‚¸ãƒ³æ‹¡å¼µ
## ğŸ“‹ **ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆï¼ˆ17ãƒ•ã‚¡ã‚¤ãƒ«450KBï¼‰**

### **ğŸ”§ ã‚³ã‚¢å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«**
- `grammar_master_controller_v2.py` (45,986 bytes) - 15ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆåˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ 
- `boundary_expansion_lib.py` (13,013 bytes) - ã‚¹ãƒ­ãƒƒãƒˆå¢ƒç•Œå‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### **ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«**
- `rephrase_rules_v2.0.json` (7,693 bytes) - Rephraseãƒ«ãƒ¼ãƒ«ä»•æ§˜
- `preset_config.json` (1,532 bytes) - ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
- `slot_order_data.json` (110,117 bytes) - ã‚¹ãƒ­ãƒƒãƒˆé †åºãƒ‡ãƒ¼ã‚¿
- `Vè‡ªå‹•è©ç¬¬1æ–‡å‹.json` (97,147 bytes) - ç¬¬1æ–‡å‹å‹•è©ãƒ‡ãƒ¼ã‚¿
- `ç¬¬3,4æ–‡å‹.json` (66,358 bytes) - ç¬¬3,4æ–‡å‹å‹•è©ãƒ‡ãƒ¼ã‚¿

### **ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
- `FINAL_SYSTEM_STATUS.md` - ã‚·ã‚¹ãƒ†ãƒ æœ€çµ‚å®ŒæˆçŠ¶æ…‹
- `GRAMMAR_PATTERN_IMPLEMENTATION_PLAN.md` - 15ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…è¨ˆç”»æ›¸
- `README.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- `å¼•ãç¶™ãæ›¸_2025-08-13_ã‚¨ãƒ³ã‚¸ãƒ³é¸æŠãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£.md` - æœ¬ãƒ•ã‚¡ã‚¤ãƒ«

### **ğŸ› ï¸ ãƒ„ãƒ¼ãƒ«ãƒ»è£œåŠ©ãƒ•ã‚¡ã‚¤ãƒ«**
- `Excel_Generator.py` (25,375 bytes) - ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«
- `.gitignore` - Gitè¨­å®š
- ä¾‹æ–‡ãƒ‡ãƒ¼ã‚¿Excelãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ (4ãƒ•ã‚¡ã‚¤ãƒ«)

## ğŸ¯ **æ¬¡ã®é–‹ç™ºè€…ã¸ã®å¼•ãç¶™ãäº‹é …**

### **âœ… ã‚·ã‚¹ãƒ†ãƒ å®Œæˆæ¸ˆã¿**
- **15ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆå®Ÿè£…**: Priority 0-14 å®Œå…¨ç¨¼åƒ
- **Multi-Engine Coordination**: 3ã¤ã®å”èª¿æˆ¦ç•¥å®Ÿè£…å®Œäº†
- **è¤‡æ–‡è§£ææˆåŠŸ**: 5ã‚¨ãƒ³ã‚¸ãƒ³å”èª¿ãƒ†ã‚¹ãƒˆå®Œäº†
- **ãƒ•ã‚¡ã‚¤ãƒ«æœ€é©åŒ–**: ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ãƒ»ã‚³ã‚¢æ©Ÿèƒ½é›†ç´„å®Œäº†

### **ğŸš€ ä»Šå¾Œã®å±•é–‹æ–¹å‘**

#### **Phase 1: æ€§èƒ½æœ€é©åŒ–**
1. **ã‚¨ãƒ³ã‚¸ãƒ³å‡¦ç†é€Ÿåº¦å‘ä¸Š**: ä¸¦åˆ—å‡¦ç†ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–
2. **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡æœ€é©åŒ–**: Dynamic LoadingåŠ¹ç‡åŒ–
3. **ã‚¨ãƒ©ãƒ¼è€æ€§å¼·åŒ–**: robustå‡¦ç†ãƒ»fallbackç²¾åº¦å‘ä¸Š

#### **Phase 2: æ©Ÿèƒ½æ‹¡å¼µ**
1. **ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š**: 70-80%å®Ÿç”¨ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
2. **ç‰¹æ®Šæ§‹æ–‡å¯¾å¿œ**: æ…£ç”¨è¡¨ç¾ãƒ»å£èªè¡¨ç¾ã‚¨ãƒ³ã‚¸ãƒ³è¿½åŠ 
3. **å¤šè¨€èªå¯¾å¿œ**: æ—¥æœ¬èªãƒ»ä¸­å›½èªãƒ»éŸ“å›½èªå±•é–‹

#### **Phase 3: å•†ç”¨åŒ–**
1. **ã‚µã‚¯ãƒ©ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæœ¬ç•ªå±•é–‹**: é‹ç”¨æ‰‹é †æ›¸å®Œå‚™æ¸ˆã¿
2. **APIåŒ–**: RESTful APIãƒ»GraphQLå®Ÿè£…
3. **èª²é‡‘ã‚·ã‚¹ãƒ†ãƒ **: å®Ÿè£…ã‚¬ã‚¤ãƒ‰æ•´å‚™æ¸ˆã¿

### **ğŸ’¡ é‡è¦ãªæŠ€è¡“çš„çŸ¥è¦‹**
1. **Grammar Master Controller v2**: 15ã‚¨ãƒ³ã‚¸ãƒ³ã®å†…éƒ¨çµ±åˆãŒæœ€é©è§£
2. **Stanza Pipeline**: Stanford NLPçµ±åˆã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
3. **Multi-Engine Coordination**: è¤‡æ–‡è§£æã«ãŠã‘ã‚‹å”èª¿æˆ¦ç•¥ã®é‡è¦æ€§
4. **File Organization**: æœ€å°é™ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã«ã‚ˆã‚‹ä¿å®ˆæ€§å‘ä¸Š

---

## ğŸ“ **é€£çµ¡ãƒ»ã‚µãƒãƒ¼ãƒˆæƒ…å ±**

### **æŠ€è¡“ã‚µãƒãƒ¼ãƒˆ**
- **ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹**: âœ… å®Œæˆãƒ»å®‰å®šç¨¼åƒä¸­
- **ç·Šæ€¥åº¦**: é€šå¸¸ï¼ˆæ–°æ©Ÿèƒ½é–‹ç™ºãƒ»æœ€é©åŒ–ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
- **ãƒªã‚¹ã‚¯**: ä½ï¼ˆåŸºæœ¬æ©Ÿèƒ½å®Ÿè£…å®Œäº†æ¸ˆã¿ï¼‰

### **é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
- å•†ç”¨å±•é–‹è¨ˆç”»: `commercial/` ãƒ•ã‚©ãƒ«ãƒ€å†…
- æŠ€è¡“ä»•æ§˜æ›¸: `è¨­è¨ˆä»•æ§˜æ›¸/` ãƒ•ã‚©ãƒ«ãƒ€å†…
- é‹ç”¨æ‰‹é †æ›¸: `commercial/ã‚µã‚¯ãƒ©ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆé‹ç”¨æ‰‹é †æ›¸.md`

---

**ğŸ‰ Rephrase Multi-Engine System v2.0 å®ŒæˆãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼**  
**æ¬¡ã¯å•†ç”¨å±•é–‹ãƒ»æ©Ÿèƒ½æ‹¡å¼µãƒ•ã‚§ãƒ¼ã‚ºã«é€²ã¿ã¾ã—ã‚‡ã† ğŸš€**
