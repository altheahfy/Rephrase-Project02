<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>プリセット読み込みテスト</title>
</head>
<body>
    <h1>プリセット読み込みテスト</h1>
    
    <div>
        <label>サンプルデータ選択:</label>
        <select id="presetSelect">
            <option value="">-- データを選択 --</option>
            <option value="data/slot_order_data.json">🎯 フルレングステスト</option>
            <option value="data/slot_order_data2.json">📚 第4文型と極性活用</option>
        </select>
        <button id="loadPresetButton">読込</button>
    </div>
    
    <div id="result"></div>
    
    <script>
        // シンプルなテスト用スクリプト
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM読み込み完了');
            
            const loadPresetButton = document.getElementById('loadPresetButton');
            const presetSelect = document.getElementById('presetSelect');
            const resultDiv = document.getElementById('result');
            
            console.log('ボタン要素:', loadPresetButton);
            console.log('選択要素:', presetSelect);
            
            if (loadPresetButton && presetSelect) {
                loadPresetButton.addEventListener('click', function() {
                    console.log('ボタンがクリックされました');
                    
                    const selectedValue = presetSelect.value;
                    console.log('選択された値:', selectedValue);
                    
                    if (!selectedValue) {
                        alert('データを選択してください');
                        return;
                    }
                    
                    resultDiv.innerHTML = `選択されたファイル: ${selectedValue}`;
                    
                    // fetchでJSONファイルを読み込み
                    fetch(selectedValue)
                        .then(response => {
                            console.log('レスポンス:', response);
                            if (!response.ok) {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                            return response.json();
                        })
                        .then(data => {
                            console.log('データ読み込み成功:', data);
                            resultDiv.innerHTML += `<br>データ読み込み成功: ${data.length}件`;
                        })
                        .catch(error => {
                            console.error('エラー:', error);
                            resultDiv.innerHTML += `<br>エラー: ${error.message}`;
                        });
                });
            } else {
                console.error('要素が見つかりません');
            }
        });
    </script>
</body>
</html>
