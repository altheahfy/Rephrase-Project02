# 文法解説ページ作成仕様書 v1.0

## 1. 概要

本仕様書は、Rephraseシステムにおける文法解説ページの統一的な作成方法を定義する。商用展開に向けて、著作権対策、品質保証、効率的な開発プロセスを確立することを目的とする。

## 2. ファイル構造とネーミング規則

### 2.1 ディレクトリ構造
```
training/
├── explanation/
│   ├── index.html                    # 冠詞・定冠詞の付け方（参考実装）
│   ├── v-intransitive-type1.html     # 自動詞第1文型（参考実装）
│   ├── [文法項目名].html             # 新規作成ページ
│   └── ...
```

### 2.2 ファイル命名規則
- **基本形式**: `[英語文法項目名].html`
- **命名例**:
  - `v-intransitive-type1.html` (自動詞第1文型)
  - `v-transitive-type3.html` (他動詞第3文型)
  - `noun-countable.html` (可算名詞)
  - `adjective-comparative.html` (比較級)

### 2.3 マトリックスとの連携
- マトリックスページ (`training/matrix/index.html`) のリンクと対応
- URLパラメータによるJSON自動設定との連携

## 3. HTMLテンプレート構造

### 3.1 基本テンプレート
```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[文法項目名] - Rephrase 英語学習システム</title>
  
  <!-- SEOメタタグ -->
  <meta name="description" content="[文法項目の簡潔な説明] - Rephrase英語学習システム">
  <meta name="keywords" content="英語文法,[文法項目名],英語学習,Rephrase">
  
  <!-- CSS変数定義 -->
  <style>
    :root {
      --primary-color: #2196F3;
      --secondary-color: #FF9800;
      --accent-color: #4CAF50;
      --light-gray: #f5f5f5;
      --shadow: 0 2px 10px rgba(0,0,0,0.1);
      --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    /* 共通スタイル */
    [必須CSSスタイル - 後述]
  </style>
</head>
<body>
  <!-- ヘッダーセクション -->
  <header class="page-header">
    <div class="container">
      <div class="breadcrumb">
        <a href="../../">Rephrase</a> > <a href="../matrix/">文法マトリックス</a> > [文法項目名]
      </div>
      <h1>🎯 [文法項目名]</h1>
      <p>[文法項目の簡潔な説明]</p>
    </div>
  </header>

  <!-- メインコンテンツ -->
  <main class="main-content">
    <div class="container">
      <!-- コンテンツセクション -->
      <section class="content-section">
        [文法解説コンテンツ]
      </section>

      <!-- CTAセクション（必須） -->
      <section class="cta-section">
        <h2>学習を続けましょう</h2>
        <p>文法の基本概念を理解したら、実際のトレーニングで練習してみましょう。</p>
        <a href="../matrix/" class="btn btn-secondary">📊 マトリクスに戻る</a>
        <a href="../auth-check.html?grammar=[文法項目名]" class="btn btn-large">🎯 トレーニング開始</a>
      </section>
    </div>
  </main>

  <!-- フッター -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 Rephrase 英語学習システム. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>
```

## 4. CSSスタイリング標準

### 4.1 必須CSS変数
```css
:root {
  --primary-color: #2196F3;
  --secondary-color: #FF9800;
  --accent-color: #4CAF50;
  --light-gray: #f5f5f5;
  --shadow: 0 2px 10px rgba(0,0,0,0.1);
  --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
```

### 4.2 必須CSSクラス
```css
/* レイアウト */
.container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
.page-header { background: var(--gradient); color: white; padding: 60px 0; text-align: center; }
.main-content { padding: 40px 0; }
.content-section { background: white; padding: 40px; margin-bottom: 30px; border-radius: 10px; box-shadow: var(--shadow); }

/* ナビゲーション */
.breadcrumb { margin-bottom: 20px; font-size: 1rem; }
.breadcrumb a { color: rgba(255, 255, 255, 0.9); text-decoration: none; }

/* コンテンツスタイル */
.key-point { background: #e8f5e8; border-left: 4px solid var(--accent-color); padding: 20px; margin: 20px 0; }
.example-box { background: #f0f8ff; border: 1px solid var(--primary-color); padding: 20px; margin: 20px 0; border-radius: 8px; }
.warning-box { background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; margin: 20px 0; border-radius: 8px; }

/* CTA・ボタン */
.cta-section { text-align: center; padding: 40px 0; background: var(--light-gray); margin-top: 40px; }
.btn { display: inline-block; padding: 12px 30px; background: var(--primary-color); color: white; text-decoration: none; border-radius: 5px; font-weight: bold; transition: background 0.3s ease; margin: 0 10px; }
.btn-large { padding: 15px 40px; font-size: 1.1rem; }
.btn-secondary { background: var(--secondary-color); }

/* フッター */
.footer { background: #333; color: white; text-align: center; padding: 20px 0; }
```

## 5. コンテンツ構成パターン

### 5.1 基本構成要素
1. **導入セクション**: 文法項目の概要
2. **詳細解説セクション**: 階層構造での詳細説明
3. **例文セクション**: 実用的な例文とその解説
4. **重要ポイント**: key-pointクラスでの強調
5. **注意事項**: warning-boxクラスでの注意喚起
6. **CTAセクション**: トレーニングへの誘導（必須）

### 5.2 階層構造の標準
```
h2: 大分類（１．２．３．...）
h3: 中分類（（１）（２）（３）...）
h4: 小分類（①②③...）
```

## 6. 著作権対策パラフレーズ戦略

### 6.1 基本原則
- **既存教材からの直接引用は禁止**
- **例文は必ずパラフレーズまたは独自作成**
- **文法説明は独自の表現と構成で記述**
- **参考文献の概念は取り入れるが、表現は完全にオリジナル**

### 6.2 パラフレーズ実践ガイド

#### 6.2.1 例文のパラフレーズ
**元の例文**: "He is sick."
**パラフレーズ例**:
- "He is injured." (病気→怪我)
- "She feels strong." (体調不良→健康)
- "They seem tired." (主語・状態の変更)

#### 6.2.2 文法説明のパラフレーズ
**避けるべき**: 教科書の説明をそのまま転用
**推奨方法**:
- 独自の視点で説明を再構築
- 実用的な場面を想定した説明
- Rephraseシステムの特徴と関連付けた解説

#### 6.2.3 語彙選択の戦略
```
一般的な語彙 → より具体的・現代的な語彙
illness → injury, health condition
happiness → joy, satisfaction
work → job, career, profession
```

### 6.3 オリジナリティ確保チェックリスト
- [ ] 例文がすべてパラフレーズまたは独自作成
- [ ] 文法説明が独自の構成と表現
- [ ] 専門用語の使用が適切
- [ ] Rephraseシステムとの関連性が明確
- [ ] 学習者目線での実用性がある

## 7. リンク設定ルール

### 7.1 必須リンク
1. **マトリクスに戻る**: `<a href="../matrix/" class="btn btn-secondary">📊 マトリクスに戻る</a>`
2. **トレーニング開始**: `<a href="../auth-check.html?grammar=[文法項目名]" class="btn btn-large">🎯 トレーニング開始</a>`

### 7.2 URLパラメータ仕様
- **形式**: `../auth-check.html?grammar=[文法項目名]`
- **例**: `../auth-check.html?grammar=自動詞第1文型`
- **注意**: 文法項目名は日本語で統一、マトリックスの表記と完全一致

### 7.3 ブレッドクラム
```html
<div class="breadcrumb">
  <a href="../../">Rephrase</a> > <a href="../matrix/">文法マトリックス</a> > [文法項目名]
</div>
```

## 8. 品質保証プロセス

### 8.1 作成前チェック
- [ ] マトリックスでの文法項目名を確認
- [ ] 対応するJSONファイルの存在確認
- [ ] 類似文法項目との差別化ポイント整理

### 8.2 作成中チェック
- [ ] HTMLテンプレート構造の遵守
- [ ] CSSクラスの正しい使用
- [ ] 著作権対策パラフレーズの実施
- [ ] 階層構造の適切な使用

### 8.3 作成後チェック
- [ ] リンクの動作確認
- [ ] レスポンシブデザインの確認
- [ ] トレーニング連携の動作確認
- [ ] コンテンツの独創性確認

## 9. 開発効率化ツール

### 9.1 テンプレートファイル
- `explanation/template.html`: 新規ページ作成用基本テンプレート
- 必要に応じて作成・維持

### 9.2 チェックリストツール
```markdown
## 新規文法解説ページ作成チェックリスト
- [ ] ファイル名が命名規則に従っている
- [ ] HTMLテンプレート構造を使用
- [ ] 必須CSSクラスを適用
- [ ] 著作権対策パラフレーズを実施
- [ ] CTAセクションを設置
- [ ] リンク動作を確認
- [ ] レスポンシブデザインを確認
```

## 10. メンテナンス方針

### 10.1 定期見直し
- **月次**: リンク切れチェック
- **四半期**: コンテンツ品質レビュー
- **年次**: 著作権対策の見直し

### 10.2 更新指針
- 文法説明の正確性向上
- 例文の実用性向上
- デザインの統一性保持
- システム連携の最適化

---

## 参考実装
- `training/explanation/index.html` (冠詞・定冠詞の付け方)
- `training/explanation/v-intransitive-type1.html` (自動詞第1文型)

**作成日**: 2025年8月5日  
**バージョン**: v1.0  
**更新者**: Rephrase開発チーム
