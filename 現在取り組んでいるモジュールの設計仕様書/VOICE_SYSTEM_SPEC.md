# Rephraseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ éŸ³å£°æ©Ÿæ§‹ã‚·ã‚¹ãƒ†ãƒ  è¨­è¨ˆä»•æ§˜æ›¸

## ğŸ¯ æ¦‚è¦

Rephraseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹éŸ³å£°å­¦ç¿’æ©Ÿèƒ½ã®çµ±åˆè¨­è¨ˆä»•æ§˜æ›¸ã§ã™ã€‚å­¦ç¿’è€…ã®ç™ºè©±ç·´ç¿’ã€éŒ²éŸ³ãƒ»å†ç”Ÿã€æ¨¡ç¯„éŸ³å£°ã®æä¾›ã€ç™ºéŸ³è©•ä¾¡ã€é€²æ—è¿½è·¡æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹åŒ…æ‹¬çš„ãªéŸ³å£°ã‚·ã‚¹ãƒ†ãƒ ã‚’å®šç¾©ã—ã¾ã™ã€‚

## âœ… å®Ÿè£…å®Œäº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ2025å¹´7æœˆï¼‰

**å®Ÿè£…å®Œäº†æ¸ˆã¿æ©Ÿèƒ½ï¼š**
- âœ… ç™ºè©±ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰
- âœ… éŒ²éŸ³ãƒ»å†ç”Ÿæ©Ÿèƒ½ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰
- âœ… æ¨¡ç¯„éŸ³å£°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰
- âœ… ç™ºéŸ³è©•ä¾¡æ©Ÿèƒ½ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰
- âœ… ç™ºè©±é€Ÿåº¦è©•ä¾¡ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰
- âœ… å­¦ç¿’é€²æ—ç®¡ç†ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰
- âœ… é€²æ—è¡¨ç¤ºUIï¼ˆå®Œå…¨å®Ÿè£…ï¼‰

**å°†æ¥å®Ÿè£…äºˆå®šï¼š**
- ğŸ”„ å…¨å›½æ¯”è¼ƒæ©Ÿèƒ½ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å®Ÿè£…å¾…ã¡ï¼‰

## ğŸ“‹ å®Ÿè£…å®Œäº†æ©Ÿèƒ½è©³ç´°

### âœ… ç™ºè©±ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰
- **å®Ÿè£…çŠ¶æ³**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- **æ©Ÿèƒ½**: ä¾‹æ–‡å…¨ä½“ã®éŒ²éŸ³ãƒ»å†ç”Ÿã«ã‚ˆã‚‹ç™ºè©±ç·´ç¿’
- **å¯¾å¿œãƒ¬ãƒ™ãƒ«**: 4æ®µéšã®ç¿’ç†Ÿåº¦ãƒ¬ãƒ™ãƒ«ï¼ˆåˆå¿ƒè€…ã€œé”äººï¼‰
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `voice_system.js`

### âœ… éŒ²éŸ³ãƒ»å†ç”Ÿæ©Ÿèƒ½
- **å®Ÿè£…çŠ¶æ³**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- **æ©Ÿèƒ½**: MediaRecorder APIã«ã‚ˆã‚‹é«˜å“è³ªéŒ²éŸ³ã€Audio APIã«ã‚ˆã‚‹å†ç”Ÿ
- **å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: WebM/MP3ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ãƒ†ã‚£ãƒ–
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `voice_system.js`

### âœ… æ¨¡ç¯„éŸ³å£°ã‚·ã‚¹ãƒ†ãƒ 
- **å®Ÿè£…çŠ¶æ³**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- **æ©Ÿèƒ½**: Web Speech APIï¼ˆTTSï¼‰ã«ã‚ˆã‚‹è‡ªå‹•èª­ã¿ä¸Šã’
- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**: é€Ÿåº¦ãƒ»å£°è³ªãƒ»ã‚¢ã‚¯ã‚»ãƒ³ãƒˆèª¿æ•´å¯¾å¿œ
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `voice_system.js`

### âœ… ç™ºéŸ³è©•ä¾¡æ©Ÿèƒ½
- **å®Ÿè£…çŠ¶æ³**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- **æ©Ÿèƒ½**: Web Speech APIï¼ˆSTTï¼‰ã«ã‚ˆã‚‹éŸ³å£°èªè­˜ã¨å†…å®¹ãƒãƒƒãƒãƒ³ã‚°
- **è©•ä¾¡æ–¹å¼**: 4æ®µéšãƒ¬ãƒ™ãƒ«åˆ¤å®šï¼ˆé”äººãƒ¬ãƒ™ãƒ«ã€ä¸Šç´šè€…ãƒ¬ãƒ™ãƒ«ã€ä¸­ç´šè€…ãƒ¬ãƒ™ãƒ«ã€åˆå¿ƒè€…ãƒ¬ãƒ™ãƒ«ï¼‰
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `voice_system.js`

### âœ… ç™ºè©±é€Ÿåº¦è©•ä¾¡
- **å®Ÿè£…çŠ¶æ³**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- **æ©Ÿèƒ½**: éŒ²éŸ³æ™‚é–“ã¨æ–‡å­—æ•°ã«ã‚ˆã‚‹é€Ÿåº¦è¨ˆæ¸¬
- **åŸºæº–**: ãƒ¬ãƒ™ãƒ«åˆ¥ç›®æ¨™é€Ÿåº¦è¨­å®šæ¸ˆã¿
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `voice_system.js`

### âœ… å­¦ç¿’é€²æ—ç®¡ç†
- **å®Ÿè£…çŠ¶æ³**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- **æ©Ÿèƒ½**: IndexedDBã«ã‚ˆã‚‹å­¦ç¿’ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- **ãƒ‡ãƒ¼ã‚¿**: æœŸé–“åˆ¥çµ±è¨ˆã€ãƒ¬ãƒ™ãƒ«åˆ¥é€²æ—ã€ç·´ç¿’å›æ•°ç­‰
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `voice_progress_tracker.js`

### âœ… é€²æ—è¡¨ç¤ºUI
- **å®Ÿè£…çŠ¶æ³**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- **æ©Ÿèƒ½**: ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªé€²æ—è¡¨ç¤ºãƒ‘ãƒãƒ«
- **æœŸé–“**: 1é€±é–“ã€1ãƒ¶æœˆã€3ãƒ¶æœˆã€1å¹´å˜ä½
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `voice_progress_ui.js`, `voice_progress.css`

### ğŸ”„ å…¨å›½æ¯”è¼ƒæ©Ÿèƒ½ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
- **å®Ÿè£…çŠ¶æ³**: è¨­è¨ˆå®Œäº†ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å®Ÿè£…å¾…ã¡
- **æ©Ÿèƒ½**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®åŒ¿ååŒ–é›†è¨ˆã¨å…¨å›½å¹³å‡æ¯”è¼ƒ
- **å¿…è¦æŠ€è¡“**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰APIã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

---

## ğŸ”§ æŠ€è¡“å®Ÿç¾å¯èƒ½æ€§åˆ†æ

### âœ… å®Ÿç¾å¯èƒ½ãªæŠ€è¡“

#### 1. Web Audio API + MediaRecorder API
```javascript
// é«˜å“è³ªéŒ²éŸ³ã®å®Ÿç¾
const audioContext = new AudioContext();
const mediaRecorder = new MediaRecorder(stream, {
  mimeType: 'audio/webm;codecs=opus',
  audioBitsPerSecond: 128000
});
```

#### 2. Web Speech API (SpeechSynthesis)
```javascript
// æ¨¡ç¯„éŸ³å£°ã®è‡ªå‹•ç”Ÿæˆ
const utterance = new SpeechSynthesisUtterance(text);
utterance.rate = 0.8; // é€Ÿåº¦èª¿æ•´
utterance.voice = voices.find(v => v.lang === 'en-US');
speechSynthesis.speak(utterance);
```

#### 3. éŸ³éŸ¿åˆ†æï¼ˆWeb Audio APIï¼‰
```javascript
// åŸºæœ¬çš„ãªéŸ³éŸ¿ç‰¹å¾´æŠ½å‡º
const analyser = audioContext.createAnalyser();
const frequencyData = new Uint8Array(analyser.frequencyBinCount);
analyser.getByteFrequencyData(frequencyData);
```

#### 4. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ + IndexedDB
```javascript
// é€²æ—ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–
const voiceProgressDB = new Dexie('VoiceProgressDB');
voiceProgressDB.version(1).stores({
  sessions: '++id, timestamp, slotId, score, duration'
});
```

### âš ï¸ åˆ¶é™äº‹é …

#### 1. **ç²¾å¯†ãªç™ºéŸ³è©•ä¾¡ã®é™ç•Œ**
- ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ãƒ†ã‚£ãƒ–ã§ã¯éŸ³ç´ ãƒ¬ãƒ™ãƒ«ã®è©³ç´°åˆ†æã¯å›°é›£
- **å¯¾ç­–**: åŸºæœ¬çš„ãªæŒ‡æ¨™ï¼ˆæ™‚é–“ã€éŸ³é‡ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼‰ã«ç„¦ç‚¹

#### 2. **éŸ³å£°èªè­˜ã®ç²¾åº¦é™ç•Œ**
- Web Speech APIï¼ˆSTTï¼‰ã¯ç’°å¢ƒãƒ»ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã«ä¾å­˜
- **å¯¾ç­–**: éŸ³å£°èªè­˜ã¯è£œåŠ©æ©Ÿèƒ½ã¨ã—ã¦ä½ç½®ã¥ã‘

#### 3. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†ã®è² è·**
- é«˜åº¦ãªéŸ³éŸ¿åˆ†æã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿
- **å¯¾ç­–**: è»½é‡ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨é©åˆ‡ãªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 éŸ³å£°UIåˆ¶å¾¡å±¤                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           éŸ³å£°éŒ²éŸ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«   â”‚   æ¨¡ç¯„éŸ³å£°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     ç™ºéŸ³è©•ä¾¡ã‚¨ãƒ³ã‚¸ãƒ³          â”‚   ç™ºè©±é€Ÿåº¦è¨ˆæ¸¬ã‚¨ãƒ³ã‚¸ãƒ³   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               é€²æ—ãƒ‡ãƒ¼ã‚¿ç®¡ç†å±¤                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ãƒ­ãƒ¼ã‚«ãƒ«DB (IndexedDB)     â”‚   ã‚µãƒ¼ãƒãƒ¼åŒæœŸAPI      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
voice_system/
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ voice_recorder.js           # éŒ²éŸ³ãƒ»å†ç”Ÿåˆ¶å¾¡
â”‚   â”œâ”€â”€ voice_synthesis.js          # æ¨¡ç¯„éŸ³å£°ç”Ÿæˆ
â”‚   â”œâ”€â”€ voice_analysis.js           # éŸ³éŸ¿åˆ†æãƒ»è©•ä¾¡
â”‚   â”œâ”€â”€ voice_speed_analyzer.js     # ç™ºè©±é€Ÿåº¦è¨ˆæ¸¬
â”‚   â”œâ”€â”€ voice_progress_manager.js   # é€²æ—ãƒ‡ãƒ¼ã‚¿ç®¡ç†
â”‚   â”œâ”€â”€ voice_ui_controller.js      # UIçµ±åˆåˆ¶å¾¡
â”‚   â””â”€â”€ voice_comparison_engine.js  # å…¨å›½æ¯”è¼ƒæ©Ÿèƒ½
â”œâ”€â”€ css/
â”‚   â””â”€â”€ voice_system.css            # éŸ³å£°UIå°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ audio/
â”‚   â”œâ”€â”€ recorded/                   # éŒ²éŸ³ãƒ‡ãƒ¼ã‚¿ä¿å­˜
â”‚   â””â”€â”€ reference/                  # æ¨¡ç¯„éŸ³å£°ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â””â”€â”€ data/
    â””â”€â”€ voice_settings.json         # éŸ³å£°è¨­å®šãƒ‡ãƒ¼ã‚¿
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

#### VoiceSession ãƒ†ãƒ¼ãƒ–ãƒ«
```javascript
{
  id: "è‡ªå‹•æ¡ç•ª",
  timestamp: "2025-07-12T14:30:00Z",
  userId: "å­¦ç¿’è€…IDï¼ˆåŒ¿ååŒ–ï¼‰",
  slotId: "s", // å¯¾è±¡ã‚¹ãƒ­ãƒƒãƒˆ
  exampleText: "She is a software engineer",
  exerciseType: "individual_slot", // "full_sentence"
  recordingData: {
    audioBlob: "éŸ³å£°ãƒ‡ãƒ¼ã‚¿ï¼ˆBase64ï¼‰",
    duration: 2.3, // ç§’
    averageVolume: 0.7,
    frequencyProfile: [...]
  },
  referenceData: {
    expectedDuration: 2.0,
    targetSpeed: "intermediate"
  },
  evaluation: {
    speedScore: 85, // 0-100
    pronunciationScore: 78,
    overallScore: 82
  },
  userLevel: "intermediate"
}
```

#### VoiceProgress ãƒ†ãƒ¼ãƒ–ãƒ«
```javascript
{
  id: "è‡ªå‹•æ¡ç•ª",
  userId: "å­¦ç¿’è€…ID",
  periodType: "weekly", // "daily", "monthly"
  startDate: "2025-07-05",
  endDate: "2025-07-12",
  metrics: {
    totalSessions: 15,
    averageScore: 78.5,
    improvementRate: 12.3, // %
    practiceTime: 45.2, // åˆ†
    slotsCompleted: ["s", "v", "o1"]
  }
}
```

---

## ğŸ¨ UI/UXè¨­è¨ˆ

### ã‚¹ãƒ­ãƒƒãƒˆçµ±åˆãƒ‡ã‚¶ã‚¤ãƒ³

#### å„ã‚¹ãƒ­ãƒƒãƒˆã¸ã®éŸ³å£°ãƒœã‚¿ãƒ³è¿½åŠ 
```html
<div class="slot-container" id="slot-s">
  <label>S</label>
  <img class="slot-image" src="..." alt="...">
  <div class="slot-text">She</div>
  <div class="slot-phrase">software engineer</div>
  
  <!-- ğŸ”Š éŸ³å£°æ©Ÿèƒ½ãƒœã‚¿ãƒ³ç¾¤ï¼ˆæ–°è¦è¿½åŠ ï¼‰ -->
  <div class="voice-control-panel">
    <button class="voice-btn record-btn" data-slot="s">ğŸ™ï¸</button>
    <button class="voice-btn play-btn" data-slot="s" disabled>â–¶ï¸</button>
    <button class="voice-btn tts-btn" data-slot="s">ğŸ”Š</button>
    <button class="voice-btn hide-text-btn" data-slot="s">ğŸ‘ï¸â€ğŸ—¨ï¸</button>
  </div>
  
  <!-- éŸ³å£°è©•ä¾¡çµæœè¡¨ç¤º -->
  <div class="voice-evaluation" data-slot="s" style="display: none;">
    <div class="speed-score">é€Ÿåº¦: <span class="score">85</span>%</div>
    <div class="pronunciation-score">ç™ºéŸ³: <span class="score">78</span>%</div>
  </div>
</div>
```

#### ã‚°ãƒ­ãƒ¼ãƒãƒ«éŸ³å£°åˆ¶å¾¡ãƒ‘ãƒãƒ«
```html
<div id="global-voice-panel" class="voice-panel">
  <div class="voice-level-selector">
    <label>å­¦ç¿’ãƒ¬ãƒ™ãƒ«:</label>
    <select id="voice-learning-level">
      <option value="beginner">åˆå¿ƒè€… (1.0ç§’/èª)</option>
      <option value="intermediate">ä¸­ç´šè€… (0.7ç§’/èª)</option>
      <option value="advanced">ä¸Šç´šè€… (0.5ç§’/èª)</option>
      <option value="expert">é”äºº (0.3ç§’/èª)</option>
    </select>
  </div>
  
  <div class="voice-mode-selector">
    <label>ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰:</label>
    <button class="mode-btn" data-mode="individual">å€‹åˆ¥ã‚¹ãƒ­ãƒƒãƒˆ</button>
    <button class="mode-btn" data-mode="full-sentence">å…¨æ–‡ç·´ç¿’</button>
  </div>
  
  <div class="voice-progress-summary">
    <div class="today-stats">ä»Šæ—¥: 5å›ç·´ç¿’ã€å¹³å‡82ç‚¹</div>
    <div class="weekly-stats">ä»Šé€±: 23å›ç·´ç¿’ã€12%å‘ä¸Š</div>
  </div>
</div>
```

### éŸ³å£°è©•ä¾¡ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯UI

#### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŒ²éŸ³ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
```html
<div class="recording-indicator" style="display: none;">
  <div class="recording-wave">ğŸ¤</div>
  <div class="recording-timer">00:03</div>
  <div class="recording-level">
    <div class="level-bar" style="width: 70%"></div>
  </div>
</div>
```

#### è©•ä¾¡çµæœãƒ¢ãƒ¼ãƒ€ãƒ«
```html
<div id="voice-evaluation-modal" class="modal">
  <div class="modal-content">
    <h3>ğŸ¯ ç™ºè©±è©•ä¾¡çµæœ</h3>
    <div class="score-display">
      <div class="score-item">
        <label>ç™ºè©±é€Ÿåº¦</label>
        <div class="score-bar">
          <div class="score-fill" style="width: 85%"></div>
        </div>
        <span class="score-text">85% (ç›®æ¨™: 2.0ç§’ã€å®Ÿéš›: 2.3ç§’)</span>
      </div>
      <div class="score-item">
        <label>éŸ³é‡ãƒ¬ãƒ™ãƒ«</label>
        <div class="score-bar">
          <div class="score-fill" style="width: 92%"></div>
        </div>
        <span class="score-text">92% (é©åˆ‡ãªéŸ³é‡)</span>
      </div>
    </div>
    <div class="playback-controls">
      <button class="play-recording">éŒ²éŸ³å†ç”Ÿ</button>
      <button class="play-reference">æ¨¡ç¯„éŸ³å£°</button>
    </div>
  </div>
</div>
```

---

## ğŸ”„ å‡¦ç†ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### 1. éŸ³å£°éŒ²éŸ³ãƒ•ãƒ­ãƒ¼

```javascript
// voice_recorder.js
class VoiceRecorder {
  async startRecording(slotId) {
    // 1. ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯å–å¾—
    const stream = await navigator.mediaDevices.getUserMedia({
      audio: {
        echoCancellation: true,
        noiseSuppression: true,
        sampleRate: 44100
      }
    });
    
    // 2. MediaRecorderåˆæœŸåŒ–
    this.mediaRecorder = new MediaRecorder(stream, {
      mimeType: 'audio/webm;codecs=opus'
    });
    
    // 3. éŒ²éŸ³é–‹å§‹ + UIæ›´æ–°
    this.startTime = performance.now();
    this.mediaRecorder.start();
    this.updateRecordingUI(true);
    
    // 4. éŸ³é‡ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
    this.setupVolumeMonitoring(stream);
  }
  
  stopRecording() {
    this.endTime = performance.now();
    this.mediaRecorder.stop();
    this.updateRecordingUI(false);
    
    return {
      audioBlob: this.recordedBlob,
      duration: (this.endTime - this.startTime) / 1000
    };
  }
}
```

### 2. éŸ³å£°è©•ä¾¡ãƒ•ãƒ­ãƒ¼

```javascript
// voice_analysis.js
class VoiceAnalyzer {
  async analyzeRecording(audioBlob, referenceText, targetLevel) {
    // 1. éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã‚’AudioContextã«å¤‰æ›
    const audioBuffer = await this.blobToAudioBuffer(audioBlob);
    
    // 2. åŸºæœ¬çš„ãªéŸ³éŸ¿ç‰¹å¾´æŠ½å‡º
    const features = this.extractAcousticFeatures(audioBuffer);
    
    // 3. ç™ºè©±é€Ÿåº¦è¨ˆç®—
    const wordCount = referenceText.split(' ').length;
    const wordsPerSecond = wordCount / features.duration;
    const speedScore = this.calculateSpeedScore(wordsPerSecond, targetLevel);
    
    // 4. éŸ³é‡ãƒ»å“è³ªè©•ä¾¡
    const qualityScore = this.calculateQualityScore(features);
    
    // 5. ç·åˆè©•ä¾¡
    const overallScore = (speedScore + qualityScore) / 2;
    
    return {
      speedScore,
      qualityScore,
      overallScore,
      duration: features.duration,
      recommendedImprovements: this.generateRecommendations(speedScore, qualityScore)
    };
  }
}
```

### 3. æ¨¡ç¯„éŸ³å£°ç”Ÿæˆãƒ•ãƒ­ãƒ¼

```javascript
// voice_synthesis.js
class VoiceSynthesis {
  generateReferenceAudio(text, level = 'intermediate') {
    const utterance = new SpeechSynthesisUtterance(text);
    
    // ãƒ¬ãƒ™ãƒ«åˆ¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
    const levelSettings = {
      beginner: { rate: 0.6, pitch: 1.0 },
      intermediate: { rate: 0.8, pitch: 1.0 },
      advanced: { rate: 1.0, pitch: 1.0 },
      expert: { rate: 1.2, pitch: 1.0 }
    };
    
    Object.assign(utterance, levelSettings[level]);
    
    // é«˜å“è³ªãªè‹±èªéŸ³å£°é¸æŠ
    const voices = speechSynthesis.getVoices();
    utterance.voice = voices.find(v => 
      v.lang.startsWith('en-') && v.name.includes('Google')
    ) || voices.find(v => v.lang.startsWith('en-'));
    
    return new Promise((resolve) => {
      utterance.onend = () => resolve();
      speechSynthesis.speak(utterance);
    });
  }
}
```

---

## ğŸ“Š å­¦ç¿’é€²æ—è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ 

### ãƒ‡ãƒ¼ã‚¿è“„ç©æˆ¦ç•¥

#### 1. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ + ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸ
```javascript
// voice_progress_manager.js
class VoiceProgressManager {
  async saveSession(sessionData) {
    // 1. ãƒ­ãƒ¼ã‚«ãƒ«DBä¿å­˜ï¼ˆå³åº§ï¼‰
    await this.localDB.sessions.add(sessionData);
    
    // 2. ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰
    this.queueForCloudSync(sessionData);
  }
  
  async getWeeklyProgress(userId) {
    const sessions = await this.localDB.sessions
      .where('timestamp')
      .between(startOfWeek, endOfWeek)
      .toArray();
      
    return this.calculateWeeklyMetrics(sessions);
  }
}
```

#### 2. åŒ¿ååŒ–ãƒ‡ãƒ¼ã‚¿åé›†
```javascript
class AnonymizedDataCollector {
  anonymizeSession(session) {
    return {
      id: generateAnonymousId(session.userId),
      level: session.userLevel,
      score: session.evaluation.overallScore,
      practiceTime: session.recordingData.duration,
      timestamp: session.timestamp,
      // å€‹äººè­˜åˆ¥æƒ…å ±ã¯é™¤å¤–
    };
  }
}
```

### é€²æ—å¯è¦–åŒ–

#### 1. å€‹äººãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
```html
<div class="voice-progress-dashboard">
  <div class="progress-chart">
    <canvas id="weekly-progress-chart"></canvas>
  </div>
  <div class="achievement-badges">
    <div class="badge earned">ğŸ¯ 1é€±é–“é€£ç¶šç·´ç¿’</div>
    <div class="badge earned">âš¡ ç™ºè©±é€Ÿåº¦å‘ä¸Š</div>
    <div class="badge pending">ğŸ† å…¨å›½ä¸Šä½20%</div>
  </div>
</div>
```

#### 2. å…¨å›½æ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆ
```html
<div class="national-comparison">
  <h4>ğŸ‡¯ğŸ‡µ å…¨å›½æ¯”è¼ƒ (ã‚ãªãŸã®ä½ç½®)</h4>
  <div class="percentile-display">
    <div class="percentile-bar">
      <div class="your-position" style="left: 65%">ã‚ãªãŸ</div>
    </div>
    <div class="percentile-labels">
      <span>ä¸‹ä½</span>
      <span>ä¸Šä½</span>
    </div>
  </div>
  <div class="comparison-stats">
    <div>å¹³å‡ç·´ç¿’æ™‚é–“: é€±32åˆ† (å…¨å›½å¹³å‡: 28åˆ†)</div>
    <div>å¹³å‡é”æˆã‚¹ã‚³ã‚¢: 78ç‚¹ (å…¨å›½å¹³å‡: 72ç‚¹)</div>
  </div>
</div>
```
## 5. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¾‹æ–‡ç™ºè©±å“è³ªåˆ¤å®šã‚·ã‚¹ãƒ†ãƒ 

### 5.1 ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦
å­¦ç¿’è€…ã®ç™ºè©±ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åˆ†æã—ã€å†…å®¹ã®æ­£ç¢ºæ€§ãƒ»ç™ºè©±é€Ÿåº¦ãƒ»éŸ³è³ªã‚’ç·åˆçš„ã«è©•ä¾¡ã—ã¦ã€4æ®µéšã®ãƒ¬ãƒ™ãƒ«åˆ¤å®šã‚’è¡Œã†ã‚·ã‚¹ãƒ†ãƒ ã€‚

### 5.2 åˆ¤å®šãƒ•ãƒ­ãƒ¼
```
éŸ³å£°éŒ²éŸ³ â†’ éŸ³è³ªãƒã‚§ãƒƒã‚¯ â†’ éŸ³å£°èªè­˜ â†’ å†…å®¹è©•ä¾¡ â†’ é€Ÿåº¦è©•ä¾¡ â†’ ãƒ¬ãƒ™ãƒ«åˆ¤å®š
```

### 5.3 æŠ€è¡“ä»•æ§˜

#### 5.3.1 éŸ³è³ªå“è³ªãƒã‚§ãƒƒã‚¯
- **æœ€ä½éŒ²éŸ³æ™‚é–“**: 0.3ç§’ä»¥ä¸Š
- **æœ€ä½éŸ³é‡ãƒ¬ãƒ™ãƒ«**: 0.1ä»¥ä¸Š
- **æœ€ä½æŒ¯å¹…**: 0.001ä»¥ä¸Š
- **å“è³ªã‚¹ã‚³ã‚¢è¨ˆç®—**: éŸ³é‡(50%) + éŒ²éŸ³æ™‚é–“(30%) + å‹•çš„ç¯„å›²(20%)

#### 5.3.2 éŸ³å£°èªè­˜
- **æŠ€è¡“**: Web Speech API (SpeechRecognition)
- **è¨€èªè¨­å®š**: è‹±èª (en-US)
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†**: ç¶™ç¶šçš„èªè­˜ãƒ¢ãƒ¼ãƒ‰
- **çµæœå‡¦ç†**: æœ€çµ‚èªè­˜çµæœã‚’ä½¿ç”¨

#### 5.3.3 å†…å®¹æ­£ç¢ºæ€§è©•ä¾¡
è¤‡æ•°æŒ‡æ¨™ã«ã‚ˆã‚‹é¡ä¼¼åº¦è¨ˆç®—:

1. **Jaccardä¿‚æ•°** (é‡ã¿: 30%)
   ```javascript
   jaccardSimilarity = intersection.size / union.size
   ```

2. **æœ€é•·å…±é€šéƒ¨åˆ†åˆ— (LCS)** (é‡ã¿: 25%)
   ```javascript
   lcsSimilarity = lcsLength / Math.max(expected.length, actual.length)
   ```

3. **ç·¨é›†è·é›¢é¡ä¼¼åº¦** (é‡ã¿: 25%)
   ```javascript
   editSimilarity = 1 - (editDistance / maxLength)
   ```

4. **éƒ¨åˆ†æ–‡å­—åˆ—ä¸€è‡´** (é‡ã¿: 20%)
   ```javascript
   substringScore = matchedSubstrings / totalSubstrings
   ```

#### 5.3.4 ç™ºè©±é€Ÿåº¦è¨ˆç®—
- **åŸºæº–å˜ä½**: èªæ•°/åˆ† (WPM: Words Per Minute)
- **è¨ˆç®—æ–¹å¼**: `(å®Ÿéš›ã®èªæ•° / éŒ²éŸ³æ™‚é–“) Ã— 60`
- **èªæ•°ã‚«ã‚¦ãƒ³ãƒˆ**: ç©ºç™½åŒºåˆ‡ã‚Šã«ã‚ˆã‚‹å˜èªæ•°

#### 5.3.5 ãƒ¬ãƒ™ãƒ«åˆ¤å®šåŸºæº–

| å†…å®¹æ­£ç¢ºæ€§ | ç™ºè©±é€Ÿåº¦ (WPM) | åˆ¤å®šãƒ¬ãƒ™ãƒ« |
|-----------|---------------|-----------|
| < 0.3 | - | âŒ å†…å®¹ä¸ä¸€è‡´ |
| 0.3-0.6 | - | âš ï¸ å†…å®¹è¦æ”¹å–„ |
| â‰¥ 0.6 | < 80 | ğŸŒ åˆå¿ƒè€…ãƒ¬ãƒ™ãƒ« |
| â‰¥ 0.6 | 80-130 | ğŸ“ˆ ä¸­ç´šè€…ãƒ¬ãƒ™ãƒ« |
| â‰¥ 0.6 | 130-150 | ğŸš€ ä¸Šç´šè€…ãƒ¬ãƒ™ãƒ« |
| â‰¥ 0.6 | > 150 | âš¡ é”äººãƒ¬ãƒ™ãƒ« |

### 5.4 å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
```javascript
{
    level: "ğŸ“ˆ ä¸­ç´šè€…ãƒ¬ãƒ™ãƒ«",
    contentAccuracy: 0.85,
    wordsPerMinute: 120,
    duration: 2.5,
    qualityScore: 0.9,
    expectedSentence: "åŸæ–‡ãƒ†ã‚­ã‚¹ãƒˆ",
    recognizedText: "èªè­˜ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆ",
    timestamp: "2025-07-13T10:30:00Z"
}
```

## 6. å­¦ç¿’é€²æ—è¨ˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ 

### 6.1 ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦
å­¦ç¿’è€…ã®ç™ºè©±å“è³ªåˆ¤å®šçµæœã‚’æ™‚ç³»åˆ—ã§ä¿å­˜ãƒ»é›†è¨ˆã—ã€æœŸé–“åˆ¥ã®ä¸Šé”åº¦ã‚’å¯è¦–åŒ–ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã€‚

### 6.2 ãƒ‡ãƒ¼ã‚¿ä¿å­˜ä»•æ§˜

#### 6.2.1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
- **æŠ€è¡“**: IndexedDB
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å**: VoiceProgressDB
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1
- **ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆã‚¢**: voiceProgress

#### 6.2.2 ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
```javascript
{
    id: "auto-generated-key",
    timestamp: "2025-07-13T10:30:00Z",
    level: "ğŸ“ˆ ä¸­ç´šè€…ãƒ¬ãƒ™ãƒ«",
    levelScore: 2,                    // æ•°å€¤åŒ–: 0-4
    contentAccuracy: 0.85,
    wordsPerMinute: 120,
    duration: 2.5,
    qualityScore: 0.9,
    expectedSentence: "åŸæ–‡ãƒ†ã‚­ã‚¹ãƒˆ",
    recognizedText: "èªè­˜ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆ",
    sessionId: "uuid-v4",
    slotId: "slot-1"
}
```

#### 6.2.3 ãƒ¬ãƒ™ãƒ«æ•°å€¤åŒ–ãƒãƒƒãƒ”ãƒ³ã‚°
```javascript
{
    'é”äººãƒ¬ãƒ™ãƒ«': 4,
    'ä¸Šç´šè€…ãƒ¬ãƒ™ãƒ«': 3,
    'ä¸­ç´šè€…ãƒ¬ãƒ™ãƒ«': 2,
    'åˆå¿ƒè€…ãƒ¬ãƒ™ãƒ«': 1,
    'å†…å®¹è¦æ”¹å–„': 0.5,
    'å†…å®¹ä¸ä¸€è‡´': 0,
    'éŸ³è³ªä¸è‰¯': 0,
    'éŸ³å£°æœªæ¤œå‡º': 0
}
```

### 6.3 é€²æ—é›†è¨ˆã‚·ã‚¹ãƒ†ãƒ 

#### 6.3.1 é›†è¨ˆæœŸé–“
- **1é€±é–“**: éå»7æ—¥é–“
- **1ãƒ¶æœˆ**: éå»30æ—¥é–“
- **3ãƒ¶æœˆ**: éå»90æ—¥é–“
- **1å¹´**: éå»365æ—¥é–“

#### 6.3.2 é›†è¨ˆæŒ‡æ¨™
```javascript
{
    period: "1é€±é–“",
    sessionCount: 15,              // ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°
    averageLevel: 2.3,             // å¹³å‡ãƒ¬ãƒ™ãƒ«
    maxWordsPerMinute: 145,        // æœ€é«˜é€Ÿåº¦
    averageAccuracy: 0.82,         // å¹³å‡æ­£ç¢ºæ€§
    improvementRate: 0.15,         // æ”¹å–„åº¦
    levelDistribution: {           // ãƒ¬ãƒ™ãƒ«åˆ†å¸ƒ
        'é”äººãƒ¬ãƒ™ãƒ«': 2,
        'ä¸Šç´šè€…ãƒ¬ãƒ™ãƒ«': 5,
        'ä¸­ç´šè€…ãƒ¬ãƒ™ãƒ«': 6,
        'åˆå¿ƒè€…ãƒ¬ãƒ™ãƒ«': 2
    }
}
```

### 6.4 å¯è¦–åŒ–ä»•æ§˜

#### 6.4.1 UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **é€²æ—ãƒ‘ãƒãƒ«**: ãƒ¢ãƒ¼ãƒ€ãƒ«å½¢å¼ã§è¡¨ç¤º
- **æœŸé–“ã‚¿ãƒ–**: 1é€±é–“ãƒ»1ãƒ¶æœˆãƒ»3ãƒ¶æœˆãƒ»1å¹´ã®åˆ‡ã‚Šæ›¿ãˆ
- **ã‚°ãƒ©ãƒ•è¡¨ç¤º**: Canvas APIã«ã‚ˆã‚‹æç”»

#### 6.4.2 ã‚°ãƒ©ãƒ•ç¨®é¡
1. **ãƒ¬ãƒ™ãƒ«åˆ†å¸ƒã‚°ãƒ©ãƒ•**: æ£’ã‚°ãƒ©ãƒ•å½¢å¼
2. **é€²æ—æ¨ç§»ãƒãƒ£ãƒ¼ãƒˆ**: æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•å½¢å¼
3. **çµ±è¨ˆã‚µãƒãƒªãƒ¼**: æ•°å€¤è¡¨ç¤º

#### 6.4.3 è‰²åˆ†ã‘è¨­å®š
```javascript
{
    'é”äººãƒ¬ãƒ™ãƒ«': '#FF6B6B',      // èµ¤
    'ä¸Šç´šè€…ãƒ¬ãƒ™ãƒ«': '#4ECDC4',    // é’ç·‘
    'ä¸­ç´šè€…ãƒ¬ãƒ™ãƒ«': '#45B7D1',    // é’
    'åˆå¿ƒè€…ãƒ¬ãƒ™ãƒ«': '#96CEB4',    // ç·‘
    'ãã®ä»–': '#FFEAA7'           // é»„
}
```

### 6.5 ãƒ‡ãƒ¼ã‚¿é€£æºä»•æ§˜

#### 6.5.1 è‡ªå‹•ä¿å­˜
- **ãƒˆãƒªã‚¬ãƒ¼**: éŸ³å£°åˆ†æå®Œäº†æ™‚
- **ä¿å­˜ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: åˆ†æçµæœè¡¨ç¤ºã¨åŒæ™‚
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ä¿å­˜å¤±æ•—æ™‚ã®å†è©¦è¡Œæ©Ÿèƒ½

#### 6.5.2 ãƒ‡ãƒ¼ã‚¿å–å¾—
- **éåŒæœŸå‡¦ç†**: Promise/async-await
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: æœŸé–“æŒ‡å®šã«ã‚ˆã‚‹çµã‚Šè¾¼ã¿
- **ã‚½ãƒ¼ãƒˆ**: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ˜‡é †

### 6.6 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä»•æ§˜
- **ãƒ‡ãƒ¼ã‚¿ä¿å­˜**: 100msä»¥å†…
- **é€²æ—è¡¨ç¤º**: 500msä»¥å†…
- **ã‚°ãƒ©ãƒ•æç”»**: 200msä»¥å†…
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: æœ€å¤§10MB

### 6.7 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»•æ§˜
- **ãƒ‡ãƒ¼ã‚¿ä¿å­˜**: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿
- **å€‹äººæƒ…å ±**: éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã—ãªã„
- **åŒ¿ååŒ–**: å°†æ¥çš„ãªçµ±è¨ˆåˆ©ç”¨æ™‚ã¯å®Œå…¨åŒ¿ååŒ–

## 7. å•†ç”¨å±•é–‹æ™‚ã®æ‹¡å¼µä»•æ§˜ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼å¹³å‡æ¯”è¼ƒã‚·ã‚¹ãƒ†ãƒ 

### 7.1 ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦
ç¾åœ¨ã®å€‹äººé€²æ—è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ ã‚’æ‹¡å¼µã—ã€åŒ¿ååŒ–ã•ã‚ŒãŸå…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¨ã®æ¯”è¼ƒæ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã€‚å€‹äººã®å­¦ç¿’é€²æ—ã‚’å…¨å›½å¹³å‡ãƒ»åŒä¸–ä»£å¹³å‡ãƒ»åœ°åŸŸå¹³å‡ã¨æ¯”è¼ƒã—ã€å®¢è¦³çš„ãªå­¦ç¿’ä½ç½®ã‚’æŠŠæ¡ã§ãã‚‹ã€‚

### 7.2 ç¾åœ¨ã®è¨­è¨ˆã®æ‹¡å¼µå¯¾å¿œçŠ¶æ³

#### 7.2.1 æ‹¡å¼µæº–å‚™å®Œäº†é …ç›®
- âœ… **ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®æ¨™æº–åŒ–**: levelScoreï¼ˆ0-4ï¼‰ã€WPMã€contentAccuracyç­‰ã®å®šé‡åŒ–æ¸ˆã¿
- âœ… **æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿è“„ç©**: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜
- âœ… **æœŸé–“åˆ¥é›†è¨ˆæ©Ÿèƒ½**: 1é€±é–“ãƒ»1ãƒ¶æœˆãƒ»3ãƒ¶æœˆãƒ»1å¹´ã®é€²æ—åˆ†æ
- âœ… **ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ**: æ–°æ©Ÿèƒ½ã‚’ç‹¬ç«‹ã‚¯ãƒ©ã‚¹ã¨ã—ã¦è¿½åŠ å¯èƒ½
- âœ… **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é…æ…®**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆè¨­è¨ˆ

#### 7.2.2 æ‹¡å¼µæ™‚è¿½åŠ é …ç›®
- ğŸ”„ **ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº**: åŒ¿ååŒ–ãƒ‡ãƒ¼ã‚¿ã®åé›†ãƒ»é…ä¿¡
- ğŸ”„ **æ¯”è¼ƒUI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: å…¨å›½å¹³å‡ã¨ã®æ¯”è¼ƒè¡¨ç¤º
- ğŸ”„ **ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæ„ç®¡ç†**: ãƒ‡ãƒ¼ã‚¿åˆ©ç”¨ã«é–¢ã™ã‚‹åŒæ„ã‚·ã‚¹ãƒ†ãƒ 
- ğŸ”„ **çµ±è¨ˆå‡¦ç†ã‚¨ãƒ³ã‚¸ãƒ³**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çµ±è¨ˆåˆ†æ

### 7.3 æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ‹¡å¼µ

#### 7.3.1 ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»åŒ¿ååŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼
```javascript
class AnonymousDataCollector {
    constructor(localTracker) {
        this.localTracker = localTracker;
        this.userConsent = false;
        this.anonymizationEngine = new DataAnonymizer();
    }
    
    async submitAnonymousData(sessionData) {
        if (!this.userConsent) return;
        
        const anonymizedData = this.anonymizationEngine.anonymize(sessionData);
        return await this.sendToCloud(anonymizedData);
    }
    
    anonymize(sessionData) {
        return {
            levelScore: sessionData.levelScore,
            contentAccuracy: Math.round(sessionData.contentAccuracy * 100) / 100,
            wordsPerMinute: Math.round(sessionData.wordsPerMinute),
            duration: Math.round(sessionData.duration * 10) / 10,
            timestamp: this.roundToHour(sessionData.timestamp),
            region: this.getRegionCode(), // éƒ½é“åºœçœŒãƒ¬ãƒ™ãƒ«
            userSegment: this.calculateUserSegment(sessionData),
            sessionCount: await this.getAnonymizedSessionCount()
        };
    }
}
```

#### 7.3.2 æ¯”è¼ƒã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
```javascript
class VoiceProgressComparison extends VoiceProgressTracker {
    constructor() {
        super();
        this.dataCollector = new AnonymousDataCollector(this);
        this.benchmarkEngine = new BenchmarkEngine();
        this.comparisonUI = new ComparisonUI();
    }
    
    async getComparisonData(period) {
        const personalData = await this.getProgressData(period);
        const benchmarkData = await this.benchmarkEngine.getBenchmarkData(period);
        
        return {
            personal: personalData,
            benchmark: benchmarkData,
            comparison: this.calculateComparison(personalData, benchmarkData)
        };
    }
    
    calculateComparison(personal, benchmark) {
        return {
            levelPercentile: this.calculatePercentile(personal.averageLevel, benchmark.levelDistribution),
            speedPercentile: this.calculatePercentile(personal.averageSpeed, benchmark.speedDistribution),
            accuracyPercentile: this.calculatePercentile(personal.averageAccuracy, benchmark.accuracyDistribution),
            improvementRate: this.calculateImprovementComparison(personal, benchmark),
            ranking: this.calculateRanking(personal, benchmark)
        };
    }
}
```

### 7.4 ãƒ‡ãƒ¼ã‚¿æ§‹é€ æ‹¡å¼µ

#### 7.4.1 åŒ¿ååŒ–ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
```javascript
// å•†ç”¨ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹åŒ¿ååŒ–ãƒ‡ãƒ¼ã‚¿
{
    sessionId: "anonymous-uuid",
    timestamp: "2025-07-13T10:00:00Z", // æ™‚é–“ã‚’æ™‚é–“å˜ä½ã«ä¸¸ã‚ã‚‹
    levelScore: 2,                      // 0-4ã®è©•ä¾¡ãƒ¬ãƒ™ãƒ«
    contentAccuracy: 0.85,              // å†…å®¹æ­£ç¢ºæ€§
    wordsPerMinute: 120,                // ç™ºè©±é€Ÿåº¦
    duration: 2.5,                      // éŒ²éŸ³æ™‚é–“
    region: "JP-13",                    // éƒ½é“åºœçœŒã‚³ãƒ¼ãƒ‰ï¼ˆä»»æ„ï¼‰
    userSegment: "intermediate",         // å­¦ç¿’è€…ãƒ¬ãƒ™ãƒ«åˆ†é¡
    sessionCount: 15,                   // å­¦ç¿’å›æ•°ï¼ˆåŒ¿ååŒ–ï¼‰
    deviceType: "desktop",              // ç«¯æœ«ç¨®åˆ¥
    timestamp_created: "2025-07-13T10:30:00Z"
}
```

#### 7.4.2 æ¯”è¼ƒçµæœãƒ‡ãƒ¼ã‚¿æ§‹é€ 
```javascript
{
    period: "1ãƒ¶æœˆ",
    personal: {
        sessionCount: 25,
        averageLevel: 2.3,
        averageSpeed: 115,
        averageAccuracy: 0.78,
        improvementRate: 0.15
    },
    benchmark: {
        totalUsers: 12500,
        averageLevel: 2.1,
        averageSpeed: 95,
        averageAccuracy: 0.72,
        levelDistribution: {
            "é”äººãƒ¬ãƒ™ãƒ«": 0.05,
            "ä¸Šç´šè€…ãƒ¬ãƒ™ãƒ«": 0.20,
            "ä¸­ç´šè€…ãƒ¬ãƒ™ãƒ«": 0.45,
            "åˆå¿ƒè€…ãƒ¬ãƒ™ãƒ«": 0.30
        }
    },
    comparison: {
        levelPercentile: 68,        // ä¸Šä½32%
        speedPercentile: 75,        // ä¸Šä½25%
        accuracyPercentile: 62,     // ä¸Šä½38%
        overallRanking: 70,         // ç·åˆé †ä½ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«
        improvementRanking: 45      // æ”¹å–„åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚°
    }
}
```

### 7.5 UIæ‹¡å¼µè¨­è¨ˆ

#### 7.5.1 æ¯”è¼ƒãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
```html
<!-- æ‹¡å¼µå¾Œã®é€²æ—è¡¨ç¤ºUI -->
<div class="voice-progress-panel-extended">
    <div class="progress-tabs">
        <button class="tab active" data-tab="personal">å€‹äººé€²æ—</button>
        <button class="tab" data-tab="comparison">å…¨å›½æ¯”è¼ƒ</button>
        <button class="tab" data-tab="ranking">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</button>
        <button class="tab" data-tab="insights">å­¦ç¿’ã‚¤ãƒ³ã‚µã‚¤ãƒˆ</button>
    </div>
    
    <div class="comparison-dashboard">
        <!-- å€‹äºº vs å…¨å›½å¹³å‡æ¯”è¼ƒ -->
        <div class="comparison-metrics">
            <div class="metric-card">
                <h5>ç™ºè©±é€Ÿåº¦</h5>
                <div class="metric-comparison">
                    <div class="personal-metric">ã‚ãªãŸ: 120 WPM</div>
                    <div class="benchmark-metric">å…¨å›½å¹³å‡: 95 WPM</div>
                    <div class="percentile-badge">ä¸Šä½25%</div>
                </div>
            </div>
            
            <div class="metric-card">
                <h5>å†…å®¹æ­£ç¢ºæ€§</h5>
                <div class="metric-comparison">
                    <div class="personal-metric">ã‚ãªãŸ: 78%</div>
                    <div class="benchmark-metric">å…¨å›½å¹³å‡: 72%</div>
                    <div class="percentile-badge">ä¸Šä½38%</div>
                </div>
            </div>
        </div>
        
        <!-- è¦–è¦šçš„æ¯”è¼ƒãƒãƒ£ãƒ¼ãƒˆ -->
        <div class="comparison-charts">
            <canvas id="comparison-radar-chart"></canvas>
            <canvas id="percentile-distribution-chart"></canvas>
        </div>
    </div>
</div>
```

#### 7.5.2 ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º
```javascript
class RankingDisplay {
    displayRanking(comparisonData) {
        return `
            <div class="ranking-display">
                <h4>ğŸ† ã‚ãªãŸã®é †ä½</h4>
                <div class="ranking-cards">
                    <div class="ranking-card">
                        <div class="rank-number">${comparisonData.comparison.overallRanking}</div>
                        <div class="rank-label">ç·åˆé †ä½</div>
                        <div class="rank-description">ä¸Šä½${100 - comparisonData.comparison.overallRanking}%</div>
                    </div>
                    
                    <div class="ranking-card">
                        <div class="rank-number">${comparisonData.comparison.speedPercentile}</div>
                        <div class="rank-label">ç™ºè©±é€Ÿåº¦</div>
                        <div class="rank-description">ä¸Šä½${100 - comparisonData.comparison.speedPercentile}%</div>
                    </div>
                    
                    <div class="ranking-card">
                        <div class="rank-number">${comparisonData.comparison.accuracyPercentile}</div>
                        <div class="rank-label">æ­£ç¢ºæ€§</div>
                        <div class="rank-description">ä¸Šä½${100 - comparisonData.comparison.accuracyPercentile}%</div>
                    </div>
                </div>
            </div>
        `;
    }
}
```

### 7.6 æ®µéšçš„å®Ÿè£…è¨ˆç”»

#### Phase 1: ãƒ‡ãƒ¼ã‚¿åé›†åŸºç›¤ï¼ˆå•†ç”¨ãƒ­ãƒ¼ãƒ³ãƒæ™‚ï¼‰
- **æœŸé–“**: 2-3é€±é–“
- **å®Ÿè£…å†…å®¹**:
  - åŒ¿ååŒ–ãƒ‡ãƒ¼ã‚¿åé›†ã‚·ã‚¹ãƒ†ãƒ 
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæ„ç®¡ç†
  - åŸºæœ¬çµ±è¨ˆå‡¦ç†
  - ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸é€£æº

#### Phase 2: æ¯”è¼ƒæ©Ÿèƒ½ï¼ˆãƒ­ãƒ¼ãƒ³ãƒå¾Œ1-2ãƒ¶æœˆï¼‰
- **æœŸé–“**: 3-4é€±é–“
- **å®Ÿè£…å†…å®¹**:
  - å…¨å›½å¹³å‡æ¯”è¼ƒæ©Ÿèƒ½
  - æ¯”è¼ƒUI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«è¨ˆç®—
  - åŸºæœ¬ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º

#### Phase 3: é«˜åº¦ãªåˆ†æï¼ˆãƒ­ãƒ¼ãƒ³ãƒå¾Œ3-6ãƒ¶æœˆï¼‰
- **æœŸé–“**: 4-6é€±é–“
- **å®Ÿè£…å†…å®¹**:
  - åŒä¸–ä»£ãƒ»åœ°åŸŸåˆ¥æ¯”è¼ƒ
  - å­¦ç¿’æ¨å¥¨ã‚·ã‚¹ãƒ†ãƒ 
  - è©³ç´°ã‚¤ãƒ³ã‚µã‚¤ãƒˆæ©Ÿèƒ½
  - äºˆæ¸¬åˆ†æ

### 7.7 ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»•æ§˜

#### 7.7.1 ãƒ‡ãƒ¼ã‚¿åŒ¿ååŒ–ãƒ—ãƒ­ã‚»ã‚¹
```javascript
class DataAnonymizer {
    anonymize(sessionData) {
        // 1. å€‹äººç‰¹å®šæƒ…å ±ã®å®Œå…¨é™¤å»
        const anonymized = {
            levelScore: sessionData.levelScore,
            accuracy: this.roundToDecimal(sessionData.contentAccuracy, 2),
            wpm: this.roundToInteger(sessionData.wordsPerMinute),
            duration: this.roundToDecimal(sessionData.duration, 1)
        };
        
        // 2. æ™‚é–“æƒ…å ±ã®ç²—åŒ–
        anonymized.timestamp = this.roundToHour(sessionData.timestamp);
        
        // 3. åœ°åŸŸæƒ…å ±ã®ä¸€èˆ¬åŒ–ï¼ˆéƒ½é“åºœçœŒãƒ¬ãƒ™ãƒ«ï¼‰
        anonymized.region = this.getRegionCode(); // ä»»æ„è¨­å®š
        
        // 4. ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°ã®ç¯„å›²åŒ–
        anonymized.sessionRange = this.getSessionRange(sessionData.sessionCount);
        
        // 5. ä¸€æ„è­˜åˆ¥å­ã®ç”Ÿæˆï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³å˜ä½ï¼‰
        anonymized.sessionId = this.generateAnonymousId();
        
        return anonymized;
    }
    
    getSessionRange(count) {
        if (count < 10) return "beginner";
        if (count < 50) return "intermediate";
        if (count < 100) return "advanced";
        return "expert";
    }
}
```

#### 7.7.2 åŒæ„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
```javascript
class ConsentManager {
    async requestDataSharingConsent() {
        const consent = await this.showConsentDialog({
            title: "å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®çµ±è¨ˆåˆ©ç”¨ã«ã¤ã„ã¦",
            description: `
                ã‚ãªãŸã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ä»¥ä¸‹ã®ç›®çš„ã§åˆ©ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã™ï¼š
                â€¢ å…¨å›½å¹³å‡ã¨ã®æ¯”è¼ƒæ©Ÿèƒ½ã®æä¾›
                â€¢ å­¦ç¿’åŠ¹æœã®çµ±è¨ˆåˆ†æ
                â€¢ ã‚µãƒ¼ãƒ“ã‚¹æ”¹å–„ã®ãŸã‚ã®ç ”ç©¶
                
                å€‹äººã‚’ç‰¹å®šã§ãã‚‹æƒ…å ±ã¯ä¸€åˆ‡åé›†ãƒ»ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚
                ã„ã¤ã§ã‚‚åŒæ„ã‚’å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã¾ã™ã€‚
            `,
            benefits: [
                "ğŸ“Š å…¨å›½å¹³å‡ã¨ã®è©³ç´°æ¯”è¼ƒ",
                "ğŸ† ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½ã®åˆ©ç”¨",
                "ğŸ“ˆ å­¦ç¿’åŠ¹æœã®å®¢è¦³çš„è©•ä¾¡",
                "ğŸ¯ å€‹åˆ¥å­¦ç¿’æ¨å¥¨ã®æä¾›"
            ],
            options: ["åŒæ„ã™ã‚‹", "åŒæ„ã—ãªã„", "è©³ç´°ã‚’è¦‹ã‚‹"]
        });
        
        if (consent === "åŒæ„ã™ã‚‹") {
            this.saveConsent(true);
            return true;
        }
        
        return false;
    }
    
    saveConsent(consent) {
        localStorage.setItem('voiceDataSharingConsent', JSON.stringify({
            consent: consent,
            timestamp: new Date().toISOString(),
            version: "1.0"
        }));
    }
}
```

### 7.8 çµ±è¨ˆå‡¦ç†ã‚¨ãƒ³ã‚¸ãƒ³

#### 7.8.1 ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«è¨ˆç®—
```javascript
class BenchmarkEngine {
    calculatePercentile(personalValue, distributionData) {
        // ç´¯ç©åˆ†å¸ƒé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ã‚’è¨ˆç®—
        const sortedValues = distributionData.sort((a, b) => a - b);
        const position = sortedValues.findIndex(value => value >= personalValue);
        
        if (position === -1) return 100; // æœ€é«˜å€¤
        
        const percentile = (position / sortedValues.length) * 100;
        return Math.round(percentile);
    }
    
    async getBenchmarkData(period) {
        // å•†ç”¨ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
        const response = await fetch(`/api/benchmark/${period}`, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        });
        
        return await response.json();
    }
    
    calculateTrends(historicalData) {
        // æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å‚¾å‘ã‚’åˆ†æ
        const trends = {
            levelTrend: this.calculateLinearTrend(historicalData.levels),
            speedTrend: this.calculateLinearTrend(historicalData.speeds),
            accuracyTrend: this.calculateLinearTrend(historicalData.accuracies)
        };
        
        return trends;
    }
}
```

### 7.9 ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

#### 7.9.1 ãƒãƒƒã‚¸ã‚·ã‚¹ãƒ†ãƒ 
```javascript
class BadgeSystem {
    checkBadgeEligibility(comparisonData) {
        const badges = [];
        
        // é€Ÿåº¦ãƒãƒƒã‚¸
        if (comparisonData.comparison.speedPercentile >= 90) {
            badges.push({
                id: 'speed_master',
                name: 'âš¡ ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒã‚¹ã‚¿ãƒ¼',
                description: 'ç™ºè©±é€Ÿåº¦ãŒå…¨å›½ä¸Šä½10%ã«åˆ°é”'
            });
        }
        
        // æ­£ç¢ºæ€§ãƒãƒƒã‚¸
        if (comparisonData.comparison.accuracyPercentile >= 85) {
            badges.push({
                id: 'accuracy_expert',
                name: 'ğŸ¯ æ­£ç¢ºæ€§ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ',
                description: 'å†…å®¹æ­£ç¢ºæ€§ãŒå…¨å›½ä¸Šä½15%ã«åˆ°é”'
            });
        }
        
        // ç¶™ç¶šå­¦ç¿’ãƒãƒƒã‚¸
        if (comparisonData.personal.sessionCount >= 100) {
            badges.push({
                id: 'consistency_champion',
                name: 'ğŸ† ç¶™ç¶šå­¦ç¿’ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³',
                description: '100ã‚»ãƒƒã‚·ãƒ§ãƒ³ä»¥ä¸Šã®ç¶™ç¶šå­¦ç¿’ã‚’é”æˆ'
            });
        }
        
        return badges;
    }
}
```

#### 7.10 å­¦ç¿’æ¨å¥¨ã‚·ã‚¹ãƒ†ãƒ 

##### 7.10.1 AIã«ã‚ˆã‚‹å€‹åˆ¥æ¨å¥¨
```javascript
class LearningRecommendationEngine {
    generateRecommendations(comparisonData) {
        const recommendations = [];
        
        // å¼±ç‚¹åˆ†æã«åŸºã¥ãæ¨å¥¨
        if (comparisonData.comparison.speedPercentile < 50) {
            recommendations.push({
                type: 'speed_improvement',
                title: 'ç™ºè©±é€Ÿåº¦ã®å‘ä¸Š',
                description: 'æ¯æ—¥10åˆ†ã®ç™ºè©±ç·´ç¿’ã§é€Ÿåº¦ã‚’å‘ä¸Šã•ã›ã¾ã—ã‚‡ã†',
                target: '1ãƒ¶æœˆã§20WPMå‘ä¸Š',
                methods: ['çŸ­æ–‡ã®åå¾©ç·´ç¿’', 'éŸ³èª­ç·´ç¿’', 'ç™ºè©±é€Ÿåº¦æ„è­˜ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°']
            });
        }
        
        if (comparisonData.comparison.accuracyPercentile < 50) {
            recommendations.push({
                type: 'accuracy_improvement',
                title: 'å†…å®¹æ­£ç¢ºæ€§ã®å‘ä¸Š',
                description: 'ç™ºéŸ³ã¨ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚’é‡ç‚¹çš„ã«ç·´ç¿’ã—ã¾ã—ã‚‡ã†',
                target: '1ãƒ¶æœˆã§æ­£ç¢ºæ€§10%å‘ä¸Š',
                methods: ['éŸ³å£°èªè­˜ç·´ç¿’', 'ç™ºéŸ³çŸ¯æ­£', 'ã‚·ãƒ£ãƒ‰ãƒ¼ã‚¤ãƒ³ã‚°']
            });
        }
        
        return recommendations;
    }
}
```

### 7.11 APIè¨­è¨ˆ

#### 7.11.1 ãƒ‡ãƒ¼ã‚¿åé›†API
```javascript
// POST /api/voice-sessions
{
    "sessions": [
        {
            "sessionId": "anonymous-uuid",
            "timestamp": "2025-07-13T10:00:00Z",
            "levelScore": 2,
            "contentAccuracy": 0.85,
            "wordsPerMinute": 120,
            "duration": 2.5,
            "region": "JP-13",
            "userSegment": "intermediate"
        }
    ]
}
```

#### 7.11.2 æ¯”è¼ƒãƒ‡ãƒ¼ã‚¿API
```javascript
// GET /api/benchmark/1month
{
    "period": "1month",
    "totalUsers": 12500,
    "averageLevel": 2.1,
    "averageSpeed": 95,
    "averageAccuracy": 0.72,
    "levelDistribution": {
        "4": 0.05,
        "3": 0.20,
        "2": 0.45,
        "1": 0.30
    },
    "speedDistribution": [65, 70, 75, 80, 85, 90, 95, 100, 105, 110, 115, 120, 125, 130, 135, 140, 145, 150],
    "accuracyDistribution": [0.5, 0.55, 0.6, 0.65, 0.7, 0.75, 0.8, 0.85, 0.9, 0.95],
    "timestamp": "2025-07-13T10:00:00Z"
}
```

### 7.12 æˆåŠŸæŒ‡æ¨™ï¼ˆKPIï¼‰

#### 7.12.1 æ©Ÿèƒ½åˆ©ç”¨ç‡
- **æ¯”è¼ƒæ©Ÿèƒ½åˆ©ç”¨ç‡**: æœˆé–“ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®60%ä»¥ä¸Š
- **ãƒ‡ãƒ¼ã‚¿å…±æœ‰åŒæ„ç‡**: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®70%ä»¥ä¸Š
- **ç¶™ç¶šåˆ©ç”¨ç‡**: æ¯”è¼ƒæ©Ÿèƒ½åˆ©ç”¨è€…ã®æœˆé–“ãƒªãƒ†ãƒ³ã‚·ãƒ§ãƒ³80%ä»¥ä¸Š

#### 7.12.2 å­¦ç¿’åŠ¹æœ
- **å­¦ç¿’ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³**: æ¯”è¼ƒæ©Ÿèƒ½åˆ©ç”¨è€…ã®å­¦ç¿’ç¶™ç¶šç‡20%å‘ä¸Š
- **å­¦ç¿’æˆæœ**: å…¨å›½å¹³å‡ã¨ã®æ¯”è¼ƒã«ã‚ˆã‚‹å­¦ç¿’åŠ¹æœ10%å‘ä¸Š
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ**: ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°15%å¢—åŠ 

### 7.13 ä»Šå¾Œã®ç™ºå±•å¯èƒ½æ€§
#### 7.13.1 ã‚°ãƒ­ãƒ¼ãƒãƒ«å±•é–‹
- å¤šè¨€èªå¯¾å¿œï¼ˆä¸­å›½èªã€éŸ“å›½èªã€ãƒ•ãƒ©ãƒ³ã‚¹èªç­‰ï¼‰
- å›½éš›æ¯”è¼ƒæ©Ÿèƒ½
- æ–‡åŒ–çš„å·®ç•°ã‚’è€ƒæ…®ã—ãŸè©•ä¾¡åŸºæº–

#### 7.13.2 AIé«˜åº¦åŒ–
- å€‹äººå­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ·±åº¦åˆ†æ
- æœ€é©å­¦ç¿’çµŒè·¯ã®è‡ªå‹•ç”Ÿæˆ
- éŸ³å£°èªè­˜ç²¾åº¦ã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºåŒ–

#### 7.13.3 ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ©Ÿèƒ½
- å­¦ç¿’ã‚°ãƒ«ãƒ¼ãƒ—ã®å½¢æˆ
- åœ°åŸŸåˆ¥å­¦ç¿’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- å­¦ç¿’æˆæœã®å…±æœ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

---

**æ›´æ–°æ—¥**: 2025å¹´7æœˆ13æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.1  
**å®Ÿè£…çŠ¶æ³**: æ‹¡å¼µä»•æ§˜è¨­è¨ˆå®Œäº†  
**å•†ç”¨å±•é–‹å¯¾å¿œ**: å®Œå…¨æº–å‚™å®Œäº†
---

## ğŸš€ å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”»

### Phase 1: åŸºæœ¬éŸ³å£°æ©Ÿèƒ½ (2é€±é–“)
- [x] è¦ä»¶åˆ†æãƒ»è¨­è¨ˆå®Œäº†
- [ ] éŸ³å£°éŒ²éŸ³ãƒ»å†ç”Ÿæ©Ÿèƒ½
- [ ] åŸºæœ¬çš„ãªUIçµ±åˆ
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ä¿å­˜

### Phase 2: è©•ä¾¡ãƒ»åˆ†ææ©Ÿèƒ½ (2é€±é–“)
- [ ] ç™ºè©±é€Ÿåº¦è¨ˆæ¸¬
- [ ] åŸºæœ¬éŸ³éŸ¿åˆ†æ
- [ ] è©•ä¾¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè£…
- [ ] ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯UIå®Œæˆ

### Phase 3: é€²æ—ç®¡ç†æ©Ÿèƒ½ (1é€±é–“)
- [ ] é€²æ—ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
- [ ] çµ±è¨ˆãƒ»å¯è¦–åŒ–æ©Ÿèƒ½
- [ ] é”æˆåº¦ã‚·ã‚¹ãƒ†ãƒ 

### Phase 4: é«˜åº¦æ©Ÿèƒ½ (2é€±é–“)
- [ ] æ¨¡ç¯„éŸ³å£°è‡ªå‹•ç”Ÿæˆ
- [ ] ãƒ¬ãƒ™ãƒ«åˆ¥é©å¿œæ©Ÿèƒ½
- [ ] éŸ³å£°å“è³ªæœ€é©åŒ–

### Phase 5: ã‚µãƒ¼ãƒãƒ¼é€£æº (å°†æ¥)
- [ ] ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸAPI
- [ ] å…¨å›½æ¯”è¼ƒæ©Ÿèƒ½
- [ ] åŒ¿ååŒ–ãƒ‡ãƒ¼ã‚¿åé›†

---

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®äº‹é …

### 1. éŸ³å£°ãƒ‡ãƒ¼ã‚¿æœ€é©åŒ–
- **åœ§ç¸®**: WebM Opus codecä½¿ç”¨ï¼ˆé«˜åœ§ç¸®ç‡ï¼‰
- **ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°**: 16kHzä»¥ä¸‹ã§ååˆ†ï¼ˆéŸ³å£°èªè­˜ç”¨é€”ï¼‰
- **åˆ†å‰²ä¿å­˜**: é•·æ™‚é–“éŒ²éŸ³æ™‚ã®åˆ†å‰²å‡¦ç†

### 2. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†
- **Web Workers**: éŸ³éŸ¿åˆ†æã‚’ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰åˆ†é›¢
- **RequestAnimationFrame**: UIæ›´æ–°ã®æœ€é©åŒ–
- **ãƒ‡ãƒã‚¦ãƒ³ã‚¹**: é€£ç¶šæ“ä½œæ™‚ã®å‡¦ç†åˆ¶é™

### 3. ãƒ¡ãƒ¢ãƒªç®¡ç†
- **AudioBufferè§£æ”¾**: åˆ†æå®Œäº†å¾Œã®å³åº§ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- **Blob URLç®¡ç†**: ä¸€æ™‚URLã®é©åˆ‡ãªè§£æ”¾
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥**: æ¨¡ç¯„éŸ³å£°ã®åŠ¹ç‡çš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼

### 1. éŸ³å£°ãƒ‡ãƒ¼ã‚¿ä¿è­·
- **ãƒ­ãƒ¼ã‚«ãƒ«å„ªå…ˆ**: éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®å¤–éƒ¨é€ä¿¡æœ€å°åŒ–
- **æš—å·åŒ–**: ä¿å­˜æ™‚ã®éŸ³å£°ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–
- **è‡ªå‹•å‰Šé™¤**: å¤ã„ç·´ç¿’ãƒ‡ãƒ¼ã‚¿ã®å®šæœŸå‰Šé™¤

### 2. åŒ¿ååŒ–
- **IDç”Ÿæˆ**: å¾©å…ƒä¸å¯èƒ½ãªåŒ¿åIDã‚·ã‚¹ãƒ†ãƒ 
- **ãƒ‡ãƒ¼ã‚¿æœ€å°åŒ–**: çµ±è¨ˆã«å¿…è¦ãªæœ€å°é™ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿åé›†
- **ã‚ªãƒ—ãƒˆã‚¢ã‚¦ãƒˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å…±æœ‰æ‹’å¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³

---

## ğŸ“‹ ä»Šå¾Œã®æ‹¡å¼µå¯èƒ½æ€§

### 1. AIéŸ³å£°èªè­˜çµ±åˆ
- **OpenAI Whisper API**: ã‚ˆã‚Šç²¾å¯†ãªéŸ³å£°èªè­˜
- **éŸ³ç´ ãƒ¬ãƒ™ãƒ«åˆ†æ**: è©³ç´°ãªç™ºéŸ³çŸ¯æ­£æŒ‡å°
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: ç™ºè©±ä¸­ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è©•ä¾¡

### 2. ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æ©Ÿèƒ½
- **å­¦ç¿’ã‚°ãƒ«ãƒ¼ãƒ—**: å‹é”ã¨ã®é€²æ—å…±æœ‰
- **ãƒãƒ£ãƒ¬ãƒ³ã‚¸**: æœˆé–“ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚¤ãƒ™ãƒ³ãƒˆ
- **ãƒ©ãƒ³ã‚­ãƒ³ã‚°**: åŒ¿ååŒ–ã•ã‚ŒãŸå®ŸåŠ›ãƒ©ãƒ³ã‚­ãƒ³ã‚°

### 3. é©å¿œå­¦ç¿’
- **å¼±ç‚¹åˆ†æ**: å€‹äººã®è‹¦æ‰‹ãƒ‘ã‚¿ãƒ¼ãƒ³ç‰¹å®š
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ©ãƒ³**: AIç”Ÿæˆã®å€‹åˆ¥å­¦ç¿’è¨ˆç”»
- **äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«**: ä¸Šé”äºˆæ¸¬ã¨ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¶­æŒ

---

## ğŸ“ ã¾ã¨ã‚

ã“ã®éŸ³å£°æ©Ÿæ§‹ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ç¾åœ¨ã®Rephraseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¹ãƒ­ãƒƒãƒˆãƒ™ãƒ¼ã‚¹å­¦ç¿’UIã¨å®Œå…¨ã«çµ±åˆã—ã€æ®µéšçš„ãªå®Ÿè£…ã«ã‚ˆã‚Šç¢ºå®Ÿã«æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ãè¨­è¨ˆã¨ãªã£ã¦ã„ã¾ã™ã€‚

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ:**
1. **ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ãƒ†ã‚£ãƒ–æŠ€è¡“**ã‚’æ´»ç”¨ã—ãŸå®Ÿè£…å¯èƒ½æ€§100%
2. **æ—¢å­˜UI ã¸ã®æœ€å°é™ã®å½±éŸ¿**ã§ã®çµ±åˆ
3. **æ®µéšçš„å®Ÿè£…**ã«ã‚ˆã‚‹å®‰å…¨ãªæ©Ÿèƒ½è¿½åŠ 
4. **å°†æ¥æ‹¡å¼µæ€§**ã‚’è€ƒæ…®ã—ãŸæŸ”è»Ÿãªè¨­è¨ˆ

ã“ã®ä»•æ§˜æ›¸ã«åŸºã¥ã„ã¦ã€Phase 1ã‹ã‚‰é †æ¬¡å®Ÿè£…ã‚’é–‹å§‹ã§ãã¾ã™ã€‚

---

## ğŸ¯ 2025å¹´7æœˆ å®Ÿè£…å®Œäº†æ©Ÿèƒ½

### âœ… é«˜åº¦ãªä¾‹æ–‡èª­ã¿ä¸Šã’ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå®Œå…¨å®Ÿè£…æ¸ˆã¿ï¼‰

#### 1. è¤‡åˆãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å¯¾å¿œèª­ã¿ä¸Šã’æ©Ÿèƒ½
```javascript
buildSentenceFromOrderedData() {
    // ğŸ¯ æ··åˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼šå„ã‚¹ãƒ­ãƒƒãƒˆã®è¡¨ç¤ºé †åºã”ã¨ã«å‡¦ç†
    const slotOrderGroups = {};
    
    // ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆwindow.loadedJsonDataã‹ã‚‰ï¼‰
    upperSlotData.forEach(item => {
        const order = item.Slot_display_order;
        if (!slotOrderGroups[order]) {
            slotOrderGroups[order] = { upperSlot: null, subSlots: [] };
        }
        
        if (!item.SubslotID) {
            slotOrderGroups[order].upperSlot = item;
        }
    });
    
    // ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆwindow.lastSelectedSlotsã‹ã‚‰ï¼‰
    subSlotData.forEach(item => {
        const order = item.Slot_display_order;
        if (!slotOrderGroups[order]) {
            slotOrderGroups[order] = { upperSlot: null, subSlots: [] };
        }
        
        if (item.SubslotID) {
            slotOrderGroups[order].subSlots.push(item);
        }
    });
}
```

**å®Ÿç¾ã•ã‚ŒãŸæ©Ÿèƒ½:**
- ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆï¼ˆwindow.loadedJsonDataï¼‰ã¨ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆï¼ˆwindow.lastSelectedSlotsï¼‰ã®æ··åˆãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å¯¾å¿œ
- Slot_display_orderï¼ˆä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆï¼‰ã¨display_orderï¼ˆã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆå†…é †åºï¼‰ã«ã‚ˆã‚‹æ­£ç¢ºãªé †åºåˆ¶å¾¡
- ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆã¨ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆã®é‡è¤‡å›é¿ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆeither/oré¸æŠï¼‰

#### 2. ã‚¹ãƒ­ãƒƒãƒˆé¸æŠå„ªå…ˆåº¦ã‚·ã‚¹ãƒ†ãƒ 
```javascript
// ğŸ¯ åˆ¤å®šï¼šä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆã«ãƒ†ã‚­ã‚¹ãƒˆãŒã‚ã‚‹ã‹ã©ã†ã‹
if (upperSlot && upperSlot.SlotPhrase && upperSlot.SlotPhrase.trim()) {
    // ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆã«ãƒ†ã‚­ã‚¹ãƒˆãŒã‚ã‚‹å ´åˆï¼šä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆã‚’ä½¿ç”¨
    console.log(`âœ… ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆä½¿ç”¨ ${upperSlot.Slot}(order:${order}): "${upperSlot.SlotPhrase}"`);
    sentenceParts.push({
        order: parseInt(order),
        text: upperSlot.SlotPhrase,
        slot: upperSlot.Slot,
        type: 'upper'
    });
} else if (subSlots.length > 0) {
    // ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆãŒç©ºã§ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆãŒã‚ã‚‹å ´åˆï¼šã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆã‚’ä½¿ç”¨
    console.log(`âœ… ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆä½¿ç”¨ (order:${order})`);
    subSlots
        .filter(sub => sub.SubslotElement && sub.SubslotElement.trim())
        .sort((a, b) => (a.display_order || 0) - (b.display_order || 0))
        .forEach(subSlot => {
            const totalOrder = parseInt(order) * 1000 + (subSlot.display_order || 0);
            sentenceParts.push({
                order: totalOrder,
                text: subSlot.SubslotElement,
                slot: subSlot.SubslotID,
                type: 'sub',
                parent: subSlot.Slot
            });
        });
}
```

**å®Ÿç¾ã•ã‚ŒãŸæ©Ÿèƒ½:**
- ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆã«å†…å®¹ãŒã‚ã‚‹å ´åˆã¯ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆã‚’å„ªå…ˆ
- ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆãŒç©ºã®å ´åˆã®ã¿ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆã‚’ä½¿ç”¨
- ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆé‡è¤‡èª­ã¿ä¸Šã’ã®å®Œå…¨å›é¿
- ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆå†…ã§ã®æ­£ç¢ºãªé †åºåˆ¶å¾¡ï¼ˆdisplay_orderæº–æ‹ ï¼‰

#### 3. ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºçµæœå¯¾å¿œèª­ã¿ä¸Šã’
**å…¨ä½“ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºå¯¾å¿œ:**
- `randomizer.js`ã«ã‚ˆã‚‹å…¨ã‚¹ãƒ­ãƒƒãƒˆä¸€æ‹¬ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºå¾Œã‚‚æ­£ç¢ºãªèª­ã¿ä¸Šã’
- æ–°ã—ãé¸æŠã•ã‚ŒãŸã‚¹ãƒ­ãƒƒãƒˆå†…å®¹ã‚’å³åº§ã«åæ˜ 
- window.loadedJsonDataã®æ›´æ–°ã‚’è‡ªå‹•æ¤œçŸ¥

**å€‹åˆ¥ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºå¯¾å¿œ:**
- `randomizer_individual.js`ã«ã‚ˆã‚‹å€‹åˆ¥ã‚¹ãƒ­ãƒƒãƒˆãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºå¯¾å¿œ
- `randomizer_slot.js`ã«ã‚ˆã‚‹å˜ä¸€ã‚¹ãƒ­ãƒƒãƒˆãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºå¯¾å¿œ
- ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºå¾Œã®window.lastSelectedSlotsæ›´æ–°ã‚’å³åº§ã«åæ˜ 

#### 4. ç–‘å•è©ç‰¹åˆ¥å‡¦ç†ã‚·ã‚¹ãƒ†ãƒ 
```javascript
// ç–‘å•è©ã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ï¼‰
const questionWordData = upperSlotData.find(item => 
    item.DisplayAtTop === true && item.DisplayText
);
if (questionWordData) {
    console.log('âœ… ç–‘å•è©:', questionWordData.DisplayText);
    sentenceParts.push({
        order: -1,
        text: questionWordData.DisplayText,
        slot: 'question-word'
    });
}
```

**å®Ÿç¾ã•ã‚ŒãŸæ©Ÿèƒ½:**
- DisplayAtTop=trueè¦ç´ ã®ç‰¹åˆ¥æ‰±ã„ï¼ˆæ–‡é ­é…ç½®ï¼‰
- ç–‘å•è©ã®è‡ªå‹•èªè­˜ã¨å„ªå…ˆé †ä½åˆ¶å¾¡
- é€šå¸¸ã‚¹ãƒ­ãƒƒãƒˆã¨ã®é©åˆ‡ãªåˆ†é›¢å‡¦ç†

#### 5. ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ä»˜ãDOMèª­ã¿å–ã‚Š
```javascript
extractCurrentSentenceFromDynamicArea() {
    // ID ãƒ™ãƒ¼ã‚¹ã§ã®æ¤œå‡º
    const slotNames = ['m1', 's', 'aux', 'm2', 'v', 'c1', 'o1', 'o2', 'c2', 'm3'];
    
    slotNames.forEach(slotName => {
        const dynamicSlotElement = dynamicArea.querySelector(`#dynamic-slot-${slotName}, .slot[data-display-order]`);
        if (dynamicSlotElement) {
            const phraseElement = dynamicSlotElement.querySelector('.slot-phrase');
            if (phraseElement && this.isElementVisible(phraseElement)) {
                const text = phraseElement.textContent.trim();
                if (text && text !== 'N/A' && text !== '') {
                    // data-display-order ã‹ã‚‰é †åºã‚’å–å¾—
                    let displayOrder = parseInt(dynamicSlotElement.dataset.displayOrder);
                    if (!displayOrder) {
                        const slotOrderMap = { m1: 1, s: 2, aux: 3, m2: 4, v: 5, c1: 6, o1: 7, o2: 8, c2: 9, m3: 10 };
                        displayOrder = slotOrderMap[slotName] || 999;
                    }
                }
            }
        }
    });
}
```

**å®Ÿç¾ã•ã‚ŒãŸæ©Ÿèƒ½:**
- ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å¤±æ•—æ™‚ã®DOMç›´æ¥èª­ã¿å–ã‚Šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- è¦ç´ å¯è¦–æ€§åˆ¤å®šï¼ˆCSS display/visibility/opacity ãƒã‚§ãƒƒã‚¯ï¼‰
- è¤‡æ•°ã®è¦ç´ æ¤œç´¢æ–¹æ³•ï¼ˆIDã€ã‚¯ãƒ©ã‚¹ã€dataå±æ€§ï¼‰
- N/Aå€¤ã‚„ç©ºæ–‡å­—ã®é©åˆ‡ãªé™¤å¤–å‡¦ç†

### âœ… å®Œå…¨å®Ÿè£…æ¸ˆã¿éŸ³å£°åˆæˆæ©Ÿèƒ½

#### 1. Web Speech APIçµ±åˆ
- é«˜å“è³ªéŸ³å£°åˆæˆã«ã‚ˆã‚‹æ¨¡ç¯„èª­ã¿ä¸Šã’
- éŸ³å£°é€Ÿåº¦ãƒ»éŸ³é‡ãƒ»å£°è³ªã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯¾å¿œ
- è¤‡æ•°è¨€èªå¯¾å¿œï¼ˆè‹±èªãƒ»æ—¥æœ¬èªï¼‰

#### 2. éŒ²éŸ³ãƒ»å†ç”Ÿæ©Ÿèƒ½
- MediaRecorder APIã«ã‚ˆã‚‹é«˜å“è³ªéŒ²éŸ³
- WebM/MP3ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŒ²éŸ³ãƒ¬ãƒ™ãƒ«è¡¨ç¤º
- ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯å†ç”Ÿæ©Ÿèƒ½

#### 3. åŸºæœ¬éŸ³éŸ¿åˆ†æ
- éŒ²éŸ³æ™‚é–“è¨ˆæ¸¬æ©Ÿèƒ½
- éŸ³é‡ãƒ¬ãƒ™ãƒ«åˆ†æ
- ç™ºè©±é€Ÿåº¦è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
- ãƒ¬ãƒ™ãƒ«åˆ¥ç›®æ¨™æ™‚é–“è¨­å®š

#### 4. å­¦ç¿’é€²æ—ç®¡ç†
- ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- ç·´ç¿’å›æ•°ãƒ»ã‚¹ã‚³ã‚¢ãƒ»æ”¹å–„ç‡ã®è¿½è·¡
- æ—¥æ¬¡ãƒ»é€±æ¬¡ãƒ»æœˆæ¬¡çµ±è¨ˆæ©Ÿèƒ½

---

## ğŸš€ æœªå®Ÿè£…æ©Ÿèƒ½ï¼ˆå°†æ¥æ‹¡å¼µï¼‰

### âš ï¸ ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®æ¯”è¼ƒæ©Ÿèƒ½
- **å¿…è¦æŠ€è¡“**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰é–‹ç™ºã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
- **å®Ÿè£…è¦ä»¶**: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã€ãƒ‡ãƒ¼ã‚¿åŒ¿ååŒ–ã€é›†è¨ˆã‚·ã‚¹ãƒ†ãƒ 
- **æŠ€è¡“èª²é¡Œ**: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°

---

## ğŸ“Š æŠ€è¡“çš„é”æˆåº¦

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | å®Ÿè£…çŠ¶æ³ | é”æˆåº¦ |
|------------|----------|--------|
| åŸºæœ¬èª­ã¿ä¸Šã’æ©Ÿèƒ½ | âœ… å®Œäº† | 100% |
| è¤‡åˆãƒ‡ãƒ¼ã‚¿å¯¾å¿œ | âœ… å®Œäº† | 100% |
| ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºå¯¾å¿œ | âœ… å®Œäº† | 100% |
| éŒ²éŸ³ãƒ»å†ç”Ÿæ©Ÿèƒ½ | âœ… å®Œäº† | 100% |
| éŸ³éŸ¿åˆ†æãƒ»è©•ä¾¡ | âœ… å®Œäº† | 100% |
| é€²æ—ç®¡ç† | âœ… å®Œäº† | 100% |
| UI/UXçµ±åˆ | âœ… å®Œäº† | 100% |
| ã‚µãƒ¼ãƒãƒ¼é€£æº | âŒ æœªå®Ÿè£… | 0% |

**ç·åˆé”æˆåº¦: 87.5%** ï¼ˆ8æ©Ÿèƒ½ä¸­7æ©Ÿèƒ½å®Œäº†ï¼‰

---

## ğŸ”® å°†æ¥å®Ÿè£…äºˆå®šæ©Ÿèƒ½

### ğŸ“± ã‚¹ãƒãƒ›æœ€é©åŒ–æ©Ÿèƒ½
ç¾åœ¨ã®å®Ÿè£…ã¯PCç’°å¢ƒã§ã®æœ€é©åŒ–ã‚’é‡è¦–ã—ã¦ãŠã‚Šã€ã‚¹ãƒãƒ›ã§ã®éŸ³å£°è¨€èªåˆ¶å¾¡ã«ã¯æŠ€è¡“çš„åˆ¶ç´„ãŒã‚ã‚Šã¾ã™ã€‚å°†æ¥çš„ã«ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’å®Ÿè£…äºˆå®šã§ã™ã€‚

#### ğŸ¯ Phase 1: è‹±èªéŸ³å£°æ¤œå‡ºãƒ»è­¦å‘Šæ©Ÿèƒ½
- **æ—¥æœ¬èªéŸ³å£°æ¤œå‡º**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éŸ³å£°è¨­å®šãŒæ—¥æœ¬èªã®å ´åˆã«è‡ªå‹•æ¤œå‡º
- **è­¦å‘Šãƒ€ã‚¤ã‚¢ãƒ­ã‚°**: è‹±èªå­¦ç¿’ã®ãŸã‚è‹±èªéŸ³å£°ã¸ã®å¤‰æ›´ã‚’ä¿ƒã™ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
- **è¨­å®šã‚¬ã‚¤ãƒ€ãƒ³ã‚¹**: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã®éŸ³å£°è¨­å®šå¤‰æ›´æ‰‹é †ã‚’è¡¨ç¤º

#### ğŸ¯ Phase 2: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥å¯¾å¿œ
- **iOSå¯¾å¿œ**: Safari ã§ã®éŸ³å£°ã‚¨ãƒ³ã‚¸ãƒ³åˆ¶å¾¡æœ€é©åŒ–
- **Androidå¯¾å¿œ**: Chrome ã§ã®éŸ³å£°åˆ¶å¾¡æ”¹å–„
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UI**: ã‚¹ãƒãƒ›å‘ã‘ã®éŸ³å£°åˆ¶å¾¡ãƒ‘ãƒãƒ«

#### ğŸ¯ Phase 3: è¨­å®šç¢ºèªãƒ»ã‚µãƒãƒ¼ãƒˆæ©Ÿèƒ½
- **è¨­å®šç¢ºèª**: è‹±èªéŸ³å£°ã®è¨­å®šå®Œäº†ãƒã‚§ãƒƒã‚¯
- **éŸ³å£°ãƒ†ã‚¹ãƒˆ**: è¨­å®šå¾Œã®éŸ³å£°å“è³ªç¢ºèª
- **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: éŸ³å£°è¨­å®šã«é–¢ã™ã‚‹å•é¡Œè§£æ±ºæ”¯æ´

#### ğŸ”§ æŠ€è¡“çš„èª²é¡Œ
- **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¾å­˜**: iOS/Android ã§ã®éŸ³å£°ã‚¨ãƒ³ã‚¸ãƒ³ã®é•ã„
- **ã‚·ã‚¹ãƒ†ãƒ è¨€èªè¨­å®š**: ç«¯æœ«ã®è¨€èªè¨­å®šã«å¼·ãä¾å­˜
- **Web Speech APIåˆ¶é™**: ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã»ã©ã®åˆ¶å¾¡ãŒã§ããªã„
- **éŸ³å£°ãƒ‡ãƒ¼ã‚¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§è‹±èªéŸ³å£°ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦

#### ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ
- **è‹±èªå­¦ç¿’åŠ¹æœ**: é©åˆ‡ãªè‹±èªéŸ³å£°ã§ã®å­¦ç¿’ä¿ƒé€²
- **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£**: ç›´æ„Ÿçš„ãªéŸ³å£°è¨­å®šå¤‰æ›´
- **ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: PC/ã‚¹ãƒãƒ›ä¸¡æ–¹ã§ã®å¿«é©ãªåˆ©ç”¨

#### ğŸ¯ å®Ÿè£…å„ªå…ˆåº¦
ç¾åœ¨ã®é–‹ç™ºã§ã¯**PCç’°å¢ƒã§ã®æ©Ÿèƒ½å®Œæˆ**ã‚’æœ€å„ªå…ˆã¨ã—ã€**ã‚¹ãƒãƒ›æœ€é©åŒ–ã¯å°†æ¥å®Ÿè£…**ã¨ã—ã¦ä½ç½®ã¥ã‘ã¦ã„ã¾ã™ã€‚

---
