/* =================================================================== */
/* ğŸ“± Rephrase ãƒ¢ãƒã‚¤ãƒ«æœ€é©åŒ–CSS - Phase 1: åŸºæœ¬è¡¨ç¤ºå®‰å®šåŒ–             */
/* =================================================================== */
/* æ³¨æ„: ã“ã®CSSã¯æ—¢å­˜ã®style.cssã‚ˆã‚Šã‚‚å¾Œã«èª­ã¿è¾¼ã¾ã‚Œã‚‹ãŸã‚å„ªå…ˆã•ã‚Œã¾ã™    */

/* ğŸ¯ Phase 1: é»„è‰²ã‚¿ãƒ–ã®å¹…å•é¡Œä¿®æ­£ï¼ˆ10ã‚¹ãƒ­ãƒƒãƒˆåˆ†å›ºå®šå¹…å¯¾å¿œï¼‰ */
@media (max-width: 768px) {
  /* é»„è‰²ã‚¿ãƒ–ãƒ©ãƒ™ãƒ«ã®å¹…å•é¡Œä¿®æ­£ - 10ã‚¹ãƒ­ãƒƒãƒˆåˆ†ã®å¹…ã‚’ç¢ºä¿ */
  .subslot-label.tab-style {
    margin-left: -20px !important;  /* å…ƒã®å€¤ã«æˆ»ã™ï¼ˆPCåŒæ§˜ï¼‰ */
    margin-right: -20px !important; /* å…ƒã®å€¤ã«æˆ»ã™ï¼ˆPCåŒæ§˜ï¼‰ */
    width: calc(100% + 40px) !important; /* 10ã‚¹ãƒ­ãƒƒãƒˆåˆ†ã®å¹…ã‚’ç¢ºä¿ */
    min-width: calc(100vw - 20px) !important; /* ç”»é¢å¹…ã„ã£ã±ã„ã¾ã§ä½¿ç”¨ */
    max-width: none !important; /* æœ€å¤§å¹…åˆ¶é™ã‚’è§£é™¤ */
    box-sizing: border-box !important;
    overflow: visible !important; /* ã¯ã¿å‡ºã—ã‚’è¨±å¯ï¼ˆæ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œï¼‰ */
    word-wrap: break-word !important; /* é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã®æ”¹è¡Œ */
    position: relative !important; /* æ—¢å­˜ã‚¹ã‚¿ã‚¤ãƒ«ä¿æŒ */
    white-space: nowrap !important; /* ãƒ†ã‚­ã‚¹ãƒˆã®æ”¹è¡Œé˜²æ­¢ */
  }

  /* ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆã‚¨ãƒªã‚¢ã®é©åˆ‡ãªã‚µã‚¤ã‚ºç¢ºä¿ - Phase 4ã§åˆ¶å¾¡ */
  .slot-wrapper.active-subslot-area {
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100% !important;
    min-width: 100% !important;
    box-sizing: border-box !important;
    /* Phase 4ã®ã‚¹ãƒ¯ã‚¤ãƒ—UIã§è©³ç´°è¨­å®šã‚’è¡Œã†ãŸã‚ã€ã“ã“ã§ã¯åŸºæœ¬è¨­å®šã®ã¿ */
  }

  /* è¦ªã‚¹ãƒ­ãƒƒãƒˆã®ã‚¿ãƒ–é€£çµèª¿æ•´ - 10ã‚¹ãƒ­ãƒƒãƒˆåˆ†å¯¾å¿œ */
  .slot-container.active-parent-slot {
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100% !important; /* max-widthã‹ã‚‰å¤‰æ›´ */
    min-width: 100% !important; /* æœ€å°å¹…ç¢ºä¿ */
    box-sizing: border-box !important; /* ãƒœãƒ¼ãƒ€ãƒ¼ãƒœãƒƒã‚¯ã‚¹é©ç”¨ */
    overflow-x: auto !important; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ */
  }

  /* ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆå†…ã®ã‚¹ãƒ­ãƒƒãƒˆã‚³ãƒ³ãƒ†ãƒŠ - Phase 4ã§åˆ¶å¾¡ */
  .slot-wrapper.active-subslot-area .slot-container {
    /* Phase 4ã®ã‚¹ãƒ¯ã‚¤ãƒ—UIã§è©³ç´°è¨­å®šã‚’è¡Œã†ãŸã‚ã€ã“ã“ã§ã¯åŸºæœ¬è¨­å®šã®ã¿ */
    box-sizing: border-box !important;
    flex-shrink: 0 !important;
  }
  
  /* ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆå†…ã®ã‚¹ã‚¿ã‚¤ãƒ« - Phase 4ã§åˆ¶å¾¡ */
  /* Phase 4ã®ã‚¹ãƒ¯ã‚¤ãƒ—UIã§è©³ç´°è¨­å®šã‚’è¡Œã„ã¾ã™ */

  /* ãƒ¡ã‚¤ãƒ³ã®ã‚¹ãƒ­ãƒƒãƒˆã‚¨ãƒªã‚¢å…¨ä½“ - æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œ */
  body {
    overflow-x: auto !important; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¨±å¯ */
    min-width: 100vw !important; /* ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆå¹…ç¢ºä¿ */
  }

  /* åŸºæœ¬çš„ãªã‚³ãƒ³ãƒ†ãƒŠ - 10ã‚¹ãƒ­ãƒƒãƒˆè¡¨ç¤ºå¯¾å¿œ */
  .slot-container {
    min-width: 120px !important; /* å„ã‚¹ãƒ­ãƒƒãƒˆã®æœ€å°å¹…ç¢ºä¿ */
    box-sizing: border-box !important;
    flex-shrink: 0 !important; /* ç¸®å°é˜²æ­¢ */
  }

  /* ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆè¡Œã®æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œ */
  .slot-wrapper:not(.active-subslot-area) {
    overflow-x: auto !important; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ */
    white-space: nowrap !important; /* æ”¹è¡Œé˜²æ­¢ */
    padding-bottom: 10px !important; /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ç”¨ã®ä½™ç™½ */
  }

  /* ä¸Šä½ã‚¹ãƒ­ãƒƒãƒˆè¡Œã®ã‚¹ãƒ­ãƒƒãƒˆã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è¡¨ç¤º */
  .slot-wrapper:not(.active-subslot-area) .slot-container {
    display: inline-block !important;
    vertical-align: top !important;
    white-space: normal !important; /* ãƒ†ã‚­ã‚¹ãƒˆå†…ã¯æ”¹è¡Œè¨±å¯ */
    margin-right: 10px !important; /* ã‚¹ãƒ­ãƒƒãƒˆé–“ã®ä½™ç™½ */
  }

  /* åˆ¶å¾¡ãƒ‘ãƒãƒ«ã®ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
  .control-panel {
    padding: 8px !important;
    margin: 5px 0 !important;
    overflow-x: auto !important; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ */
    white-space: nowrap !important; /* ãƒœã‚¿ãƒ³ã®æ”¹è¡Œé˜²æ­¢ */
  }

  /* å…¨ä½“ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚ºãƒœã‚¿ãƒ³ã®èª¿æ•´ */
  #randomize-all {
    width: 100% !important;
    max-width: none !important;
    margin-bottom: 10px !important;
  }
}

/* =================================================================== */
/* ğŸ“± Phase 2: ã‚¿ãƒƒãƒæ“ä½œæœ€é©åŒ–ï¼ˆæº–å‚™ï¼‰                               */
/* =================================================================== */

@media (max-width: 768px) {
  /* ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚ºã®é©æ­£åŒ– */
  button, .btn {
    min-height: 44px !important; /* Appleæ¨å¥¨ã®ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚µã‚¤ã‚º */
    min-width: 44px !important;
    padding: 12px 16px !important;
    font-size: 16px !important; /* ã‚ºãƒ¼ãƒ é˜²æ­¢ */
  }

  /* ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆé–“éš”èª¿æ•´ */
  .control-panel button {
    margin: 4px !important;
  }

  /* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ã‚¿ãƒƒãƒé ˜åŸŸæ‹¡å¤§ */
  input[type="checkbox"] {
    width: 20px !important;
    height: 20px !important;
    margin: 8px !important;
  }
}

/* =================================================================== */
/* ğŸ“± Phase 3: UXæ”¹å–„ï¼ˆæº–å‚™ï¼‰                                         */
/* =================================================================== */

@media (max-width: 768px) {
  /* ç¸¦ç”»é¢å°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ */
  .slot-container {
    margin-bottom: 10px !important;
    padding: 10px !important;
  }

  /* é•·ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ†å‰²è¡¨ç¤ºæº–å‚™ */
  .slot-text, .slot-auxtext {
    line-height: 1.6 !important;
    font-size: 16px !important; /* èª­ã¿ã‚„ã™ã•å‘ä¸Š */
  }

  /* ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³å¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æº–å‚™ */
  .control-panel {
    position: sticky !important;
    top: 0 !important;
    z-index: 100 !important;
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(10px) !important;
  }
}

/* =================================================================== */
/* ğŸ“± ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¯¾å¿œ                                                  */
/* =================================================================== */

@media (min-width: 769px) and (max-width: 1024px) {
  /* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå°‚ç”¨ã®èª¿æ•´ */
  .subslot-label.tab-style {
    margin-left: -15px !important;
    margin-right: -15px !important;
    width: calc(100% + 30px) !important;
  }

  button, .btn {
    min-height: 40px !important;
    min-width: 40px !important;
  }
}

/* =================================================================== */
/* ğŸ“± ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å°å‹ç”»é¢å¯¾å¿œ                                       */
/* =================================================================== */

@media (max-width: 480px) {
  /* ã‚ˆã‚Šå°ã•ã„ç”»é¢ã§ã®è¿½åŠ èª¿æ•´ */
  .subslot-label.tab-style {
    font-size: 12px !important;
    padding: 6px 12px !important;
  }

  .slot-container {
    padding: 8px !important;
    margin-bottom: 8px !important;
  }

  /* ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºèª¿æ•´ */
  .slot-text, .slot-auxtext {
    font-size: 14px !important;
  }

  /* ã‚ºãƒ¼ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®ã‚µã‚¤ã‚ºèª¿æ•´ */
  #zoomSlider {
    width: 100% !important;
    max-width: 200px !important;
  }
}

/* =================================================================== */
/* ğŸ“± ç¸¦ç”»é¢ï¼ˆãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆï¼‰å°‚ç”¨å¯¾å¿œ                                   */
/* =================================================================== */

@media (max-width: 768px) and (orientation: portrait) {
  /* ç¸¦ç”»é¢ã§ã®é»„è‰²ã‚¿ãƒ–èª¿æ•´ */
  .subslot-label.tab-style {
    min-width: calc(100vw - 10px) !important; /* ç¸¦ç”»é¢ã§ã¯ç”»é¢å¹…ã„ã£ã±ã„ */
    font-size: 13px !important; /* ç¸¦ç”»é¢ã§ã¯å°‘ã—å°ã•ã‚ã®ãƒ•ã‚©ãƒ³ãƒˆ */
  }

  /* ç¸¦ç”»é¢ã§ã®ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆã‚¨ãƒªã‚¢æœ€é©åŒ– - Phase 4ã§åˆ¶å¾¡ */
  /* Phase 4ã®ã‚¹ãƒ¯ã‚¤ãƒ—UIã§è©³ç´°è¨­å®šã‚’è¡Œã„ã¾ã™ */
}

/* =================================================================== */
/* ğŸ“± æ¨ªç”»é¢å¯¾å¿œ                                                      */
/* =================================================================== */

@media (max-width: 768px) and (orientation: landscape) {
  /* æ¨ªç”»é¢ã§ã®ç‰¹åˆ¥ãªèª¿æ•´ */
  .control-panel {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    top: auto !important;
    padding: 8px !important;
  }

  /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸‹éƒ¨ä½™ç™½ç¢ºä¿ */
  body {
    padding-bottom: 80px !important;
  }
}

/* =================================================================== */
/* ğŸ“± ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ”¹å–„                                            */
/* =================================================================== */

@media (max-width: 768px) {
  /* é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆå¯¾å¿œ */
  @media (prefers-contrast: high) {
    .subslot-label.tab-style {
      border: 2px solid #000 !important;
      color: #000 !important;
    }
  }

  /* å‹•ãã®è»½æ¸› */
  @media (prefers-reduced-motion: reduce) {
    .slot-container.active-parent-slot,
    .slot-wrapper.active-subslot-area {
      animation: none !important;
      transition: none !important;
    }
  }

  /* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¡¨ç¤ºã®æ”¹å–„ */
  button:focus, 
  input:focus,
  .btn:focus {
    outline: 3px solid #007AFF !important;
    outline-offset: 2px !important;
  }
}

/* =================================================================== */
/* ğŸ“± æ–°ä¸–ä»£ã‚¹ãƒ¯ã‚¤ãƒ—UI - Phase 4: ãƒ¢ãƒã‚¤ãƒ«ãƒã‚¤ãƒ†ã‚£ãƒ–ä½“é¨“             */
/* =================================================================== */

/* ğŸ¯ ã‚¹ãƒ¯ã‚¤ãƒ—UI: ç¸¦ç”»é¢ã§ã®ã‚«ãƒ«ãƒ¼ã‚»ãƒ«å‹è¡¨ç¤º */
@media (max-width: 768px) and (orientation: portrait) {
  /* é»„è‰²ã‚¿ãƒ–ã‚’éš ã—ã¦ã‚¹ãƒ¯ã‚¤ãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«åˆ‡ã‚Šæ›¿ãˆ */
  .subslot-label.tab-style {
    display: none !important;
  }
  
  /* ã‚¹ãƒ­ãƒƒãƒˆã‚³ãƒ³ãƒ†ãƒŠã‚’ã‚¹ãƒ¯ã‚¤ãƒ—å¯èƒ½ãªã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã«å¤‰æ› */
  .slot-wrapper.active-subslot-area {
    display: flex !important;
    flex-direction: row !important;
    overflow-x: auto !important;
    overflow-y: hidden !important;
    scroll-snap-type: x mandatory !important;
    scroll-behavior: smooth !important;
    gap: 10px !important;
    padding: 15px 10px !important;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%) !important;
    border-radius: 12px !important;
    margin: 10px 0 !important;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
    height: auto !important;
    min-height: 120px !important;
    white-space: nowrap !important;
  }
  
  /* å„ã‚¹ãƒ­ãƒƒãƒˆã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ãƒšãƒ¼ã‚¸ã¨ã—ã¦è¨­å®š */
  .slot-wrapper.active-subslot-area .slot-container {
    min-width: 200px !important;
    max-width: 200px !important;
    width: 200px !important;
    scroll-snap-align: center !important;
    flex-shrink: 0 !important;
    background: white !important;
    border-radius: 8px !important;
    padding: 15px !important;
    margin: 0 !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
    border-left: 4px solid #007AFF !important;
    display: inline-block !important;
    vertical-align: top !important;
    white-space: normal !important;
    height: auto !important;
    min-height: 80px !important;
  }
  
  /* ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆå†…ã®ã‚¹ãƒ­ãƒƒãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆSUB-Sã€SUB-AUXãªã©ï¼‰ã‚’é©åˆ‡ã«è¡¨ç¤º */
  .slot-wrapper.active-subslot-area .slot-container .slot-header {
    text-align: center !important;
    font-weight: bold !important;
    font-size: 14px !important;
    color: #333 !important;
    margin-bottom: 10px !important;
    padding: 6px 8px !important;
    background: #f8f9fa !important;
    border-radius: 4px !important;
    border: 1px solid #dee2e6 !important;
  }
  
  /* ã‚µãƒ–ã‚¹ãƒ­ãƒƒãƒˆå†…ã®ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
  .slot-wrapper.active-subslot-area .slot-container .slot-text,
  .slot-wrapper.active-subslot-area .slot-container .slot-auxtext {
    text-align: center !important;
    font-size: 16px !important;
    line-height: 1.4 !important;
    color: #333 !important;
    margin: 8px 0 !important;
    padding: 8px !important;
    background: #f8f9fa !important;
    border-radius: 4px !important;
    min-height: 30px !important;
    display: block !important;
    word-wrap: break-word !important;
  }
}

/* ğŸ¯ ã‚¹ãƒ¯ã‚¤ãƒ—UI: æ¨ªç”»é¢ã§ã®ã‚°ãƒªãƒƒãƒ‰å‹è¡¨ç¤º */
@media (max-width: 768px) and (orientation: landscape) {
  /* æ¨ªç”»é¢ã§ã¯2x2ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
  .slot-wrapper.active-subslot-area {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 10px !important;
    padding: 10px !important;
    max-height: 70vh !important;
    overflow-y: auto !important;
  }
  
  .slot-wrapper.active-subslot-area .slot-container {
    min-width: auto !important;
    max-width: none !important;
    background: white !important;
    border-radius: 6px !important;
    padding: 15px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
    align-items: stretch !important;
  }
  
  /* æ¨ªç”»é¢ã§ã®ã‚¹ãƒ­ãƒƒãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ */
  .slot-wrapper.active-subslot-area .slot-container .slot-header {
    text-align: center !important;
    font-weight: bold !important;
    font-size: 14px !important;
    color: #333 !important;
    margin-bottom: 10px !important;
    padding: 6px 10px !important;
    background: #f8f9fa !important;
    border-radius: 4px !important;
    border: 1px solid #dee2e6 !important;
  }
  
  /* æ¨ªç”»é¢ã§ã®ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
  .slot-wrapper.active-subslot-area .slot-container .slot-text,
  .slot-wrapper.active-subslot-area .slot-container .slot-auxtext {
    text-align: center !important;
    font-size: 16px !important;
    line-height: 1.4 !important;
    color: #333 !important;
    margin: 8px 0 !important;
    padding: 8px !important;
    background: #f8f9fa !important;
    border-radius: 4px !important;
    min-height: 30px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
}

/* ğŸ¯ ã‚¹ãƒ¯ã‚¤ãƒ—UI: è¦–è¦šçš„ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
@media (max-width: 768px) {
  /* ã‚¹ãƒ¯ã‚¤ãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ï¼ˆãƒ‰ãƒƒãƒˆè¡¨ç¤ºï¼‰ */
  .swipe-indicator {
    display: flex !important;
    justify-content: center !important;
    gap: 6px !important;
    padding: 10px !important;
    margin-top: 5px !important;
  }
  
  .swipe-indicator .dot {
    width: 8px !important;
    height: 8px !important;
    border-radius: 50% !important;
    background: rgba(0, 122, 255, 0.3) !important;
    transition: background 0.3s ease !important;
  }
  
  .swipe-indicator .dot.active {
    background: #007AFF !important;
  }
  
  /* ã‚¹ãƒ¯ã‚¤ãƒ—ãƒ’ãƒ³ãƒˆè¡¨ç¤º */
  .swipe-hint {
    text-align: center !important;
    padding: 5px 10px !important;
    font-size: 12px !important;
    color: #666 !important;
    font-style: italic !important;
  }
}

/* =================================================================== */
/* ğŸ“± ãƒ‡ãƒãƒƒã‚°ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆé–‹ç™ºæ™‚ã®ã¿ä½¿ç”¨ï¼‰                           */
/* =================================================================== */

/* ãƒ‡ãƒãƒƒã‚°æ™‚ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’å¤–ã—ã¦ä½¿ç”¨ */
/*
@media (max-width: 768px) {
  * {
    border: 1px solid red !important;
  }
  
  .subslot-label.tab-style {
    background: rgba(255, 0, 0, 0.3) !important;
  }
}
*/
