
# Rephraseプロジェクト 統合マニュアル骨子

---

## 第1章：全体仕様概要

### 目的
本仕様書は、Rephraseプロジェクトにおける構文DB用JSONファイルの正確な仕様を明示し、
例文データのDB記載、UI反映までの過程で不整合を防ぎ、あらゆる構文パターンに対応することを目的とする。

### 基本形式
各JSONは 1 文例 = 1 オブジェクトの形式とする。
```json
{
  "構文ID": 5001,
  "例文ID": "ex001",
  "V_group_key": "figure out",
  "V_display": "figured out",
  "原文": "At the very last second, the thoughtful woman must have figured out that he wanted to avoid confrontation because he feared upsetting her.",
  "slot_data": [...]
}
```

---

## 第2章：枠 → 生成 → 埋める方式テンプレート

### 目的
この章は、文法要点に基づくスロット枠提示と、ChatGPT による例文生成・スロット埋め込みを一貫して行う手順を示す。
これにより、例文分解工程を不要とし、初期から構造と例文の整合性を担保する。

### 手順テンプレート

1. 構文ID・文法要点の指定  
例: 構文ID: 5001 / 文法要点: 不定詞の名詞的用法 + SVO構造

2. スロット枠提示  
例: M1, S, Aux, V, O1, O2, C1, C2, M2, M3  
各slotに期待する要素（簡潔な指示）も提示：  
- S: 人称代名詞または the+名詞
- V: 構文代表動詞（例: figure out）
- O1: 不定詞句（名詞的用法） など

3. ChatGPTへの指示例  
「上記のスロット枠と文法要点に従い、整合した英文を生成し、対応する JSON データを出力せよ。」

4. 出力フォーマット例  
ChatGPT は生成した文と対応する JSON をセットで提示。

🔹 詳細仕様、各スロット条件、分解順序、表記ルールについては、別添の「manual_matrix.xlsx」を参照のこと。

---

## 第3章：標準指示書テンプレート

### 目的
本章では、枠 → 生成 → 埋める方式を実行する際の具体的な指示文と、期待される標準出力例を示す。
これにより、指示内容のブレや出力確認基準の揺れを防ぐ。

🔹 詳細仕様、各スロット条件、分解順序、表記ルールについては、別添の「manual_matrix.xlsx」を参照のこと。

### 標準指示文例

- 構文ID: 5001  
- 文法要点: 不定詞の名詞的用法 + SVO構造  
- スロット枠: M1, S, Aux, V, O1, O2, C1, C2, M2, M3  
- 各スロット要素:
  - S: 人称代名詞または the + 名詞
  - V: 構文代表動詞 (例: figure out)
  - O1: 不定詞句 (名詞的用法)
  - 他: 適切な修飾語句

指示文例:  
「構文ID5001、文法要点は不定詞の名詞的用法SVO構造。上記スロット枠と要素ガイドに従い、自然で正確な英文を1つ生成し、対応する JSON を出力せよ。」

### 期待される出力例

英文例:  
At the last moment, she figured out how to solve the issue.

JSON例:
```json
{
  "構文ID": 5001,
  "例文ID": "ex_template_001",
  "V_group_key": "figure out",
  "V_display": "figured out",
  "原文": "At the last moment, she figured out how to solve the issue.",
  "slot_data": [...]
}
```

---

## 第4章：実務上の注意と落とし穴

### 注意点と落とし穴集

- clause型 sub-s の phrase で関係詞や限定詞を漏らさないこと  
- phrase の phrase 記載で不要な大文字化やピリオド追加をしないこと  
- slot_text を句・節 (type = phrase / clause) に付与しないこと  
- O1 の不定詞句に subslots を記載漏れしないこと  
- 意志動詞＋不定詞を Aux に分類しないこと  

🔹 詳細仕様、各スロット条件、分解順序、表記ルールについては、別添の「manual_matrix.xlsx」を参照のこと。

### 目的
これらの注意点は、過去の実務ミスをもとに整理したものであり、仕様遵守と精度向上のための指針とする。
