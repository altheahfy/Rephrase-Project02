<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¡ã‚¿ã‚¿ã‚°ç”Ÿæˆãƒ„ãƒ¼ãƒ«</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            background: #007bff;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover {
            background: #0056b3;
        }
        #output {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            max-height: 600px;
            overflow-y: auto;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <h1>ğŸ·ï¸ ç”»åƒãƒ¡ã‚¿ã‚¿ã‚°è‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«</h1>
    
    <div class="container">
        <h2>ğŸ“‹ æ¦‚è¦</h2>
        <div class="info">
            <p><strong>ç›®çš„:</strong> æ—¢å­˜ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ãƒ¡ã‚¿ã‚¿ã‚°å®šç¾©ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™</p>
            <p><strong>å¯¾è±¡:</strong> slot_images/common/ å†…ã®å…¨ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«</p>
            <p><strong>æ©Ÿèƒ½:</strong> ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰å˜èªãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã¨èª¬æ˜ã‚’è‡ªå‹•ç”Ÿæˆ</p>
        </div>
        
        <button onclick="generateMetaTags()">ãƒ¡ã‚¿ã‚¿ã‚°è‡ªå‹•ç”Ÿæˆ</button>
        <button onclick="copyToClipboard()">çµæœã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼</button>
        <button onclick="downloadJSON()">JSONãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
    </div>

    <div class="container">
        <h2>ğŸ“„ ç”Ÿæˆçµæœ</h2>
        <div id="output">ã“ã“ã«ç”Ÿæˆã•ã‚ŒãŸJSONãŒè¡¨ç¤ºã•ã‚Œã¾ã™...</div>
    </div>

    <script src="generate_meta_tags.js"></script>
    <script>
        let generatedJSON = '';

        function generateMetaTags() {
            console.log('ğŸš€ ãƒ¡ã‚¿ã‚¿ã‚°ç”Ÿæˆé–‹å§‹...');
            document.getElementById('output').textContent = 'ç”Ÿæˆä¸­...';
            
            try {
                console.log('ğŸ“ executeGenerationé–¢æ•°ã‚’å‘¼ã³å‡ºã—ä¸­...');
                const metaTags = executeGeneration();
                console.log('ğŸ“Š ç”Ÿæˆã•ã‚ŒãŸãƒ¡ã‚¿ã‚¿ã‚°æ•°:', metaTags.length);
                
                generatedJSON = JSON.stringify(metaTags, null, 2);
                document.getElementById('output').textContent = generatedJSON;
                console.log('âœ… ãƒ¡ã‚¿ã‚¿ã‚°ç”Ÿæˆå®Œäº†:', metaTags.length, 'ä»¶');
                
                // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
                alert(`âœ… ãƒ¡ã‚¿ã‚¿ã‚°ç”Ÿæˆå®Œäº†ï¼${metaTags.length}ä»¶ã®ã‚¤ãƒ©ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã™ã‚‹ãƒ¡ã‚¿ã‚¿ã‚°ã‚’ç”Ÿæˆã—ã¾ã—ãŸã€‚`);
                
            } catch (error) {
                console.error('âŒ ç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);
                document.getElementById('output').textContent = 'ã‚¨ãƒ©ãƒ¼: ' + error.message + '\n\nã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹:\n' + error.stack;
                alert('âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message);
            }
        }

        function executeGeneration() {
            console.log('ğŸ”§ executeGenerationé–¢æ•°é–‹å§‹...');
            
            // æ—¢å­˜ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
            const existingImages = [
                "absence.png", "academic.png", "administrator.png", "adult.png", "afraid.png",
                "afternoon.png", "alarm.png", "alone.png", "amaging.png", "analyze.png",
                "appear.png", "ask.png", "available.png", "avoid.png", "become.png",
                "begin.png", "believe.png", "belong.png", "below.png", "book.png",
                "briefing.png", "brother.png", "building.png", "button.png", "capable.png",
                "case.png", "catch up.png", "catch.png", "caught.png", "central.png",
                "certainly.png", "challenge.png", "change.png", "charge.png", "choice.png",
                "chosen.png", "clarity.png", "clear.png", "close.png", "clouded.png",
                "committee.png", "common.png", "company.png", "complete.png", "complex.png",
                "composure.png", "confident.png", "confrontation.png", "consider.png", "content.png",
                "control.png", "counting on.png", "counting.png", "critical.png", "crucial.png",
                "cruelty.png", "data.png", "day.png", "decide.png", "decisive.png",
                "deep.png", "deliver.png", "dependable.png", "detailed.png", "determined.png",
                "difficult.png", "direct.png", "discuss.png", "doubt.png", "early.png",
                "echo.png", "emotionally.png", "employee.png", "encourage.png", "end.png",
                "engineer.png", "enhance.png", "enjoy.png", "enough.png", "environment.png",
                "escape.png", "even.png", "everyone.png", "example.png", "exhausted.png",
                "experiment.png", "explain.png", "explaining.png", "face.png", "far.png",
                "fast.png", "fatigue.png", "feared.png", "feelings.png", "figure out.png",
                "fill.png", "final.png", "find.png", "flawlessly.jpg", "full.png",
                "game.png", "general.png", "get.png", "give.png", "good.png",
                "government.png", "ground.png", "growth.png", "hand.png", "happen.png",
                "hard.png", "he.png", "head.png", "health.png", "help.png",
                "hesitation.png", "high.png", "home.png", "hurting.png", "I.png",
                "idea.png", "implementation.png", "include.png", "increase.png", "indecisive.png",
                "instant.png", "instead.png", "instructor.jpg", "intend.png", "intense.png",
                "issue.png", "job.png", "joined.png", "just.png", "keep.png",
                "kind.png", "know.png", "laboratory.png", "lacked.png", "last.png",
                "leader.png", "lesson.png", "like.png", "lingered.png", "long.png",
                "make.png", "manager.png", "math.png", "meeting.png", "mentally.png",
                "meticulously.png", "mind.png", "missed.png", "moment.png", "morning.png",
                "near.png", "new.png", "nonbody.png", "notice.png", "occured.png",
                "offer.png", "office.png", "once.png", "outage.png", "outcome.png",
                "outline.png", "party.png", "people.png", "placeholder.png", "plan.png",
                "point.png", "policy.png", "potential.png", "power.png", "prepared.png",
                "presentation.png", "pressure.png", "previous.png", "principal.png", "project.png",
                "proposal.png", "publication.png", "push.png", "question.png", "recently.png",
                "reflect.png", "refuse.png", "remarkable.png", "reputation.png", "request.png",
                "research.png", "respond.png", "responsible.png", "return.png", "room.png",
                "school.png", "scientist.png", "second.png", "seemed.png", "severe.png",
                "she.png", "shown.png", "silence.png", "spoke.png", "staff.png",
                "student.png", "suggestion.png", "summary.png", "take.png", "teacher.png",
                "team.png", "they.png", "think.png", "thoughtful.png", "thoughts.png",
                "transferred.png", "trying.png", "uncertainty.png", "unexpected.png", "upsetting.png",
                "urgent.png", "voice.png", "waiting.png", "want.png", "we.png",
                "week.png", "wish.png", "without.png", "woman.png", "working.png",
                "would_rather.png"
            ];

            // ç‰¹åˆ¥ãªãƒãƒƒãƒ”ãƒ³ã‚°
            const specialMappings = {
                "catch up.png": {
                    meta_tags: ["catch up", "catching up", "caught up", "catches up"],
                    description: "è¿½ã„ã¤ã"
                },
                "figure out.png": {
                    meta_tags: ["figure out", "figures out", "figured out", "figuring out"],
                    description: "ç†è§£ã™ã‚‹ã€è§£æ±ºã™ã‚‹"
                },
                "counting on.png": {
                    meta_tags: ["counting on", "count on", "counts on", "counted on"],
                    description: "é ¼ã‚Šã«ã™ã‚‹"
                },
                "would_rather.png": {
                    meta_tags: ["would rather", "prefer", "prefers", "preferred"],
                    description: "ã‚€ã—ã‚ã€œã—ãŸã„"
                },
                "I.png": {
                    meta_tags: ["I", "me", "my", "mine", "myself"],
                    description: "ç§"
                },
                "he.png": {
                    meta_tags: ["he", "him", "his", "himself"],
                    description: "å½¼"
                },
                "she.png": {
                    meta_tags: ["she", "her", "hers", "herself"],
                    description: "å½¼å¥³"
                },
                "we.png": {
                    meta_tags: ["we", "us", "our", "ours", "ourselves"],
                    description: "ç§ãŸã¡"
                },
                "they.png": {
                    meta_tags: ["they", "them", "their", "theirs", "themselves"],
                    description: "å½¼ã‚‰ã€å½¼å¥³ã‚‰"
                }
            };

            // å˜èªã‹ã‚‰èªå¹¹ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ
            function generateWordVariations(baseWord) {
                const variations = [baseWord];
                
                // å‹•è©ã®æ´»ç”¨å½¢
                if (baseWord.endsWith('e')) {
                    variations.push(baseWord + 'd');
                    variations.push(baseWord.slice(0, -1) + 'ing');
                } else {
                    variations.push(baseWord + 'ed');
                    variations.push(baseWord + 'ing');
                }
                
                // 3äººç§°å˜æ•°å½¢ãƒ»è¤‡æ•°å½¢
                if (baseWord.endsWith('y')) {
                    variations.push(baseWord.slice(0, -1) + 'ies');
                } else if (baseWord.endsWith('s') || baseWord.endsWith('sh') || baseWord.endsWith('ch') || baseWord.endsWith('x') || baseWord.endsWith('z')) {
                    variations.push(baseWord + 'es');
                } else {
                    variations.push(baseWord + 's');
                }
                
                return [...new Set(variations)];
            }

            // å˜èªã®èª¬æ˜ã‚’ç”Ÿæˆ
            function generateDescription(baseWord) {
                const descriptions = {
                    "analyze": "åˆ†æã™ã‚‹", "appear": "ç¾ã‚Œã‚‹", "ask": "å°‹ã­ã‚‹", "avoid": "é¿ã‘ã‚‹",
                    "become": "ã€œã«ãªã‚‹", "begin": "å§‹ã‚ã‚‹", "believe": "ä¿¡ã˜ã‚‹", "belong": "æ‰€å±ã™ã‚‹",
                    "catch": "æ•ã¾ãˆã‚‹", "change": "å¤‰ãˆã‚‹", "choose": "é¸ã¶", "complete": "å®Œäº†ã™ã‚‹",
                    "consider": "è€ƒæ…®ã™ã‚‹", "control": "åˆ¶å¾¡ã™ã‚‹", "decide": "æ±ºã‚ã‚‹", "deliver": "é…é”ã™ã‚‹",
                    "discuss": "è­°è«–ã™ã‚‹", "encourage": "åŠ±ã¾ã™", "enhance": "å‘ä¸Šã•ã›ã‚‹", "enjoy": "æ¥½ã—ã‚€",
                    "escape": "é€ƒã’ã‚‹", "explain": "èª¬æ˜ã™ã‚‹", "face": "ç›´é¢ã™ã‚‹", "find": "è¦‹ã¤ã‘ã‚‹",
                    "give": "ä¸ãˆã‚‹", "happen": "èµ·ã“ã‚‹", "help": "åŠ©ã‘ã‚‹", "include": "å«ã‚€",
                    "increase": "å¢—åŠ ã™ã‚‹", "intend": "æ„å›³ã™ã‚‹", "keep": "ä¿ã¤", "know": "çŸ¥ã‚‹",
                    "like": "å¥½ã‚€", "make": "ä½œã‚‹", "notice": "æ°—ã¥ã", "offer": "æä¾›ã™ã‚‹",
                    "prepare": "æº–å‚™ã™ã‚‹", "push": "æŠ¼ã™", "reflect": "åæ˜ ã™ã‚‹", "refuse": "æ‹’å¦ã™ã‚‹",
                    "request": "è¦æ±‚ã™ã‚‹", "respond": "å¿œç­”ã™ã‚‹", "return": "æˆ»ã‚‹", "take": "å–ã‚‹",
                    "think": "è€ƒãˆã‚‹", "transfer": "ç§»ã™", "want": "æ¬²ã—ã„", "wish": "é¡˜ã†", "work": "åƒã",
                    
                    // åè©
                    "absence": "ä¸åœ¨", "administrator": "ç®¡ç†è€…", "adult": "å¤§äºº", "afternoon": "åˆå¾Œ",
                    "alarm": "è­¦å ±", "book": "æœ¬", "briefing": "èª¬æ˜ä¼š", "brother": "å…„å¼Ÿ",
                    "building": "å»ºç‰©", "button": "ãƒœã‚¿ãƒ³", "case": "å ´åˆ", "choice": "é¸æŠ",
                    "clarity": "æ˜ç¢ºã•", "committee": "å§”å“¡ä¼š", "company": "ä¼šç¤¾", "composure": "å†·é™ã•",
                    "data": "ãƒ‡ãƒ¼ã‚¿", "day": "æ—¥", "employee": "å¾“æ¥­å“¡", "engineer": "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢",
                    "environment": "ç’°å¢ƒ", "everyone": "ã¿ã‚“ãª", "example": "ä¾‹", "experiment": "å®Ÿé¨“",
                    "fatigue": "ç–²åŠ´", "feelings": "æ„Ÿæƒ…", "game": "ã‚²ãƒ¼ãƒ ", "government": "æ”¿åºœ",
                    "growth": "æˆé•·", "hand": "æ‰‹", "head": "é ­", "health": "å¥åº·", "home": "å®¶",
                    "idea": "ã‚¢ã‚¤ãƒ‡ã‚¢", "instant": "ç¬é–“", "instructor": "æŒ‡å°è€…", "issue": "å•é¡Œ",
                    "job": "ä»•äº‹", "laboratory": "ç ”ç©¶å®¤", "leader": "ãƒªãƒ¼ãƒ€ãƒ¼", "lesson": "æˆæ¥­",
                    "manager": "ç®¡ç†è€…", "math": "æ•°å­¦", "meeting": "ä¼šè­°", "mind": "å¿ƒ",
                    "moment": "ç¬é–“", "morning": "æœ", "office": "ã‚ªãƒ•ã‚£ã‚¹", "people": "äººã€…",
                    "plan": "è¨ˆç”»", "point": "ç‚¹", "power": "åŠ›", "project": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ",
                    "question": "è³ªå•", "research": "ç ”ç©¶", "room": "éƒ¨å±‹", "school": "å­¦æ ¡",
                    "scientist": "ç§‘å­¦è€…", "student": "å­¦ç”Ÿ", "teacher": "æ•™å¸«", "team": "ãƒãƒ¼ãƒ ",
                    "voice": "å£°", "week": "é€±", "woman": "å¥³æ€§",
                    
                    // å½¢å®¹è©
                    "academic": "å­¦è¡“çš„ãª", "afraid": "æã‚ŒãŸ", "available": "åˆ©ç”¨å¯èƒ½ãª",
                    "capable": "æœ‰èƒ½ãª", "central": "ä¸­å¤®ã®", "clear": "æ˜ç¢ºãª", "common": "å…±é€šã®",
                    "complex": "è¤‡é›‘ãª", "confident": "è‡ªä¿¡ã®ã‚ã‚‹", "critical": "é‡è¦ãª",
                    "crucial": "æ±ºå®šçš„ãª", "decisive": "æ±ºå®šçš„ãª", "difficult": "é›£ã—ã„",
                    "direct": "ç›´æ¥çš„ãª", "final": "æœ€çµ‚çš„ãª", "good": "è‰¯ã„", "hard": "å›°é›£ãª",
                    "high": "é«˜ã„", "long": "é•·ã„", "new": "æ–°ã—ã„", "responsible": "è²¬ä»»ã®ã‚ã‚‹"
                };
                
                return descriptions[baseWord] || baseWord;
            }

            // ãƒ¡ã‚¿ã‚¿ã‚°ã‚’ç”Ÿæˆ
            console.log('ğŸ“ ãƒ¡ã‚¿ã‚¿ã‚°ç”Ÿæˆå‡¦ç†é–‹å§‹... å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«æ•°:', existingImages.length);
            const metaTags = [];
            
            existingImages.forEach((imageFile, index) => {
                if (index % 20 === 0) {
                    console.log(`ğŸ“Š å‡¦ç†é€²æ—: ${index}/${existingImages.length} (${Math.round(index/existingImages.length*100)}%)`);
                }
                
                const baseWord = imageFile.replace(/\.(png|jpg|jpeg)$/, '').toLowerCase();
                
                let entry;
                if (specialMappings[imageFile]) {
                    entry = {
                        image_file: imageFile,
                        folder: "common",
                        meta_tags: specialMappings[imageFile].meta_tags,
                        priority: 3,
                        description: specialMappings[imageFile].description
                    };
                } else {
                    const variations = generateWordVariations(baseWord);
                    entry = {
                        image_file: imageFile,
                        folder: "common", 
                        meta_tags: variations,
                        priority: 3,
                        description: generateDescription(baseWord)
                    };
                }
                
                metaTags.push(entry);
            });
            
            console.log('âœ… ãƒ¡ã‚¿ã‚¿ã‚°ç”Ÿæˆå‡¦ç†å®Œäº†! ç”Ÿæˆä»¶æ•°:', metaTags.length);
            return metaTags;
        }

        function copyToClipboard() {
            if (!generatedJSON) {
                alert('ã¾ãšãƒ¡ã‚¿ã‚¿ã‚°ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„');
                return;
            }
            
            navigator.clipboard.writeText(generatedJSON).then(() => {
                alert('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
            }).catch(err => {
                console.error('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼å¤±æ•—:', err);
                alert('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
            });
        }

        function downloadJSON() {
            if (!generatedJSON) {
                alert('ã¾ãšãƒ¡ã‚¿ã‚¿ã‚°ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„');
                return;
            }
            
            const blob = new Blob([generatedJSON], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'image_meta_tags_generated.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
