<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>Rephrase Structured UI</title>
  <link href="style.css" rel="stylesheet"/>
  <script src="js/subslot_toggle.js"></script>
  <script type="module">
   document.addEventListener("DOMContentLoaded", () => {
    const loadButton = document.getElementById("loadButton");
    if (loadButton) {
      loadButton.addEventListener("click", () => {
        const fileInput = document.getElementById("fileInput");
        if (!fileInput.files[0]) {
          alert("å…ˆã« data.json ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚");
          return;
        }
        const file = fileInput.files[0];
        const reader = new FileReader();
        reader.onload = function(e) {
          const jsonData = JSON.parse(e.target.result);
          window.lastSlotData = jsonData;
          import("./js/structure_builder.js").then(builderModule => {
            if (window.lastSlotData) {
              builderModule.buildStructureFromJson(window.lastSlotData);
            } else {
              console.warn("lastSlotData ãŒã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“");
            }
          });
        };
        reader.readAsText(file);
      });
    }
   });
  </script>
 </head>
 <body>
  <section>
   <label for="fileInput">data.json ã‚’é¸æŠï¼š</label>
   <input accept=".json" id="fileInput" type="file"/>
   <button id="loadButton">ğŸ“˜ JSONã‹ã‚‰æ§‹é€ æ§‹ç¯‰</button>
  </section>
  <h1>ğŸ§ª Subslot Structured Test with Upper Slots</h1>
  <section>
   <h2>Full Structure</h2>
   <div class="slot-wrapper">
    <!-- ã‚¹ãƒ­ãƒƒãƒˆæ§‹é€ ã¯å…ƒã®ã‚’æµç”¨ãƒ»å¾©å…ƒã—ã¦ãã ã•ã„ -->
   </div>
  </section>
  <script src="js/renderer_core.js" type="module"></script>
  <script src="./js/test_controller.js" type="module"></script>
 </body>
</html>
