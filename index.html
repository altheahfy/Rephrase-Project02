<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Rephrase „Éà„É¨„Éº„Éã„É≥„Ç∞UI
  </title>
  <link href="style.css" rel="stylesheet"/>
  <script src="js/subslot_toggle.js">
  </script>
  <script src="js/randomizer_individual.js">
  </script>
  <script src="js/control_panel_manager.js">
  </script>
  <script src="js/visibility_control.js">
  </script>
  <script src="js/subslot_visibility_control.js">
  </script>
  <script src="js/image_auto_hide.js">
  </script>
  <script src="js/question_word_visibility.js">
  </script>
 </head>
 <body>

<!-- üé≠ „É≠„Éº„Éá„Ç£„É≥„Ç∞„Ç™„Éº„Éê„Éº„É¨„Ç§ -->
<div id="loading-overlay" style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  z-index: 8000;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  font-family: Arial, sans-serif;
  pointer-events: none;
">
  <div style="text-align: center; pointer-events: auto;">
    <div style="
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255,255,255,0.3);
      border-top: 4px solid #fff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    "></div>
    <h2 style="margin: 0 0 10px 0; font-size: 24px; font-weight: 300;">
      „Éá„Éº„Çø„ÇíÊ∫ñÂÇô„Åó„Å¶„ÅÑ„Åæ„Åô...
    </h2>
    <p style="margin: 0; font-size: 14px; opacity: 0.8;">
      JSON„Éï„Ç°„Ç§„É´„Çí„É≠„Éº„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ
    </p>
  </div>
</div>

<style>
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>

<!-- Âè≥‰∏ä„ÅÆ„Éï„Ç°„Ç§„É´ÈÅ∏Êäû„Éª„É≠„Éº„Éâ„Ç®„É™„Ç¢ -->
<div id="file-load-area" style="position: fixed; top: 10px; right: 10px; z-index: 10000; background: rgba(255, 255, 255, 0.95); padding: 12px; border-radius: 8px; border: 2px solid #2196F3; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
  <input type="file" id="jsonFileInput" accept=".json" style="margin-bottom: 8px; font-size: 13px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; width: 200px;">
  <button id="loadJsonButton" style="background-color: #2196F3; color: white; border: none; padding: 8px 16px; font-size: 13px; cursor: pointer; border-radius: 4px; font-weight: bold; transition: background-color 0.3s;">„É≠„Éº„Éâ</button>
</div>

<!-- „Çø„Ç§„Éà„É´ÔºàÂ∏∏„Å´Ë°®Á§∫Ôºâ -->
<div style="display: flex; align-items: center; justify-content: flex-start; margin-bottom: 15px; margin-top: 20px; position: relative; z-index: 10000; background: rgba(255,255,255,0.95); padding: 15px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <h1 style="margin: 0; margin-right: 30px; color: #333; font-size: 28px; font-weight: bold;">
   üîÑ Rephrase „Éà„É¨„Éº„Éã„É≥„Ç∞UI
  </h1>
</div>

<!-- üéØ „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Ç®„É™„Ç¢Ôºà„É≠„Éº„Éá„Ç£„É≥„Ç∞ÂÆå‰∫Ü„Åæ„ÅßÈùûË°®Á§∫Ôºâ -->
<div id="main-content" style="display: none;">

<!-- üîπ ÂàÜÈõ¢ÁñëÂïèË©ûÁî®Ë°®Á§∫È†òÂüü -->
<div id="display-top-question-word" style="font-size: 1.4rem; font-weight: bold; margin-bottom: 1rem; color: #2a2a2a;">
  <div class="question-word-text"></div>
  <div class="question-word-auxtext" style="font-size: 0.9rem; color: #666; margin-top: 4px;"></div>
</div>

  <section>
  </section>
  
  <!-- Âà∂Âæ°„Éë„Éç„É´Ë°®Á§∫„Éú„Çø„É≥„Å®Âà∂Âæ°„Éë„Éç„É´ -->
  <div style="display: flex; align-items: center; justify-content: flex-start; margin-bottom: 15px;">
    <!-- Âà∂Âæ°„Éë„Éç„É´Ë°®Á§∫„Éú„Çø„É≥ -->
    <button id="toggle-control-panels" style="background-color: #4a90e2; color: white; border: none; padding: 8px 16px; font-size: 14px; cursor: pointer; border-radius: 5px; margin-right: 20px;">
      Âà∂Âæ°„Éë„Éç„É´
    </button>
  </div>
  
  <!-- üéØ ‰∏ä‰Ωç„Çπ„É≠„ÉÉ„ÉàË°®Á§∫Âà∂Âæ°„Éë„Éç„É´Ôºà„Éá„Éï„Ç©„É´„ÉàÈùûË°®Á§∫Ôºâ -->
  <div id="visibility-control-panel-inline" style="display: none; background: rgba(255, 255, 255, 0.95); padding: 8px; border-radius: 5px; border: 1px solid #ddd; margin-bottom: 15px;">
      <div style="display: flex; gap: 8px; align-items: center; font-size: 12px;">
        
        <!-- ÁñëÂïèË©û „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="question-word" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">ÁñëÂïèË©û</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="question-word" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="question-word" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- M1 „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="m1" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">M1</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m1" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m1" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m1" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- S „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="s" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">S</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="s" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="s" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="s" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- Aux „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="aux" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">Aux</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="aux" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="aux" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="aux" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- M2 „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="m2" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">M2</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m2" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m2" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m2" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- V „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="v" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">V</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="v" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="v" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="v" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- C1 „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="c1" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">C1</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="c1" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="c1" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="c1" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- O1 „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="o1" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">O1</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="o1" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="o1" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="o1" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- O2 „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="o2" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">O2</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="o2" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="o2" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="o2" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- C2 „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="c2" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">C2</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="c2" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="c2" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="c2" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- M3 „Çπ„É≠„ÉÉ„Éà -->
        <div class="slot-control-group" data-slot="m3" style="padding: 4px; border: 1px solid #f0f0f0; border-radius: 3px;">
          <div style="font-weight: bold; font-size: 11px; margin-bottom: 2px; color: #444; text-align: center;">M3</div>
          <div style="display: flex; flex-direction: column; gap: 2px; font-size: 10px;">
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m3" data-type="image" checked> üñºÔ∏è</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m3" data-type="text" checked> üìÑ</label>
            <label style="display: flex; align-items: center; gap: 2px;"><input type="checkbox" class="visibility-checkbox" data-slot="m3" data-type="auxtext" checked> üìù</label>
          </div>
        </div>
        
        <!-- ÂÖ®Ë°®Á§∫„Éú„Çø„É≥ -->
        <button id="reset-all-visibility" style="background-color: #4CAF50; color: white; border: none; padding: 6px 10px; font-size: 11px; cursor: pointer; border-radius: 3px; margin-left: 8px;">ÂÖ®Ë°®Á§∫</button>
      </div>
    </div>
  </div>
  <section>
   <button id="randomize-all">
    ‰æãÊñá„Ç∑„É£„ÉÉ„Éï„É´
   </button>
   <h2 style="margin-bottom: 15px; margin-top: 20px;">
    ‰æãÊñá
   </h2>
   <div class="slot-wrapper">
    <div class="slot-container" id="slot-m1">
     <label>
      M1
     </label>
     <img alt="image for M1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
     <div class="subslot-toggle-button" style="margin-top: 4px;">
      <button data-subslot-toggle="m1">
       ‚ñº Ë©≥Á¥∞
      </button>
     </div>
     <div class="individual-randomize-button" style="margin-top: 4px;">
      <button class="m1-individual-randomize-btn" style="margin-left: 8px;">
       üé≤
      </button>
     </div>
    </div>
    <div class="slot-container" id="slot-s">
     <label>
      S
     </label>
     <img alt="image for S" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
     <div class="subslot-toggle-button" style="margin-top: 4px;">
      <button data-subslot-toggle="s">
       ‚ñº Ë©≥Á¥∞
      </button>
     </div>
     <div class="individual-randomize-button" style="margin-top: 4px;">
      <button class="s-individual-randomize-btn" style="margin-left: 8px;">
       üé≤
      </button>
     </div>
    </div>
    <div class="slot-container" id="slot-aux">
     <label>
      AUX
     </label>
     <img alt="image for AUX" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="slot-container" id="slot-m2">
     <label>
      M2
     </label>
     <img alt="image for M2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
     <div class="subslot-toggle-button" style="margin-top: 4px;">
      <button data-subslot-toggle="m2">
       ‚ñº Ë©≥Á¥∞
      </button>
     </div>
     <div class="individual-randomize-button" style="margin-top: 4px;">
      <button class="m2-individual-randomize-btn" style="margin-left: 8px;">
       üé≤
      </button>
     </div>
    </div>
    <div class="slot-container" id="slot-v">
     <label>
      V
     </label>
     <img alt="image for V" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="slot-container" id="slot-c1">
     <label>
      C1
     </label>
     <img alt="image for C" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
     <div class="subslot-toggle-button" style="margin-top: 4px;">
      <button data-subslot-toggle="c1">
       ‚ñº Ë©≥Á¥∞
      </button>
     </div>
     <div class="individual-randomize-button" style="margin-top: 4px;">
      <button class="c1-individual-randomize-btn" style="margin-left: 8px;">
       üé≤
      </button>
     </div>
    </div>
    <div class="slot-container" id="slot-o1">
     <label>
      O1
     </label>
     <img alt="image for O1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
     <div class="subslot-toggle-button" style="margin-top: 4px;">
      <button data-subslot-toggle="o1">
       ‚ñº Ë©≥Á¥∞
      </button>
     </div>
     <div class="individual-randomize-button" style="margin-top: 4px;">
      <button class="o1-individual-randomize-btn" style="margin-left: 8px;">
       üé≤
      </button>
     </div>
    </div>
    <div class="slot-container" id="slot-o2">
     <label>
      O2
     </label>
     <img alt="image for O2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
     <div class="subslot-toggle-button" style="margin-top: 4px;">
      <button data-subslot-toggle="o2">
       ‚ñº Ë©≥Á¥∞
      </button>
     </div>
     <div class="individual-randomize-button" style="margin-top: 4px;">
      <button class="o2-individual-randomize-btn" style="margin-left: 8px;">
       üé≤
      </button>
     </div>
    </div>
    <div class="slot-container" id="slot-c2">
     <label>
      C2
     </label>
     <img alt="image for C2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
     <div class="subslot-toggle-button" style="margin-top: 4px;">
      <button data-subslot-toggle="c2">
       ‚ñº Ë©≥Á¥∞
      </button>
     </div>
     <div class="individual-randomize-button" style="margin-top: 4px;">
      <button class="c2-individual-randomize-btn" style="margin-left: 8px;">
       üé≤
      </button>
     </div>
    </div>
    <div class="slot-container" id="slot-m3">
     <label>
      M3
     </label>
     <img alt="image for M3" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
     <!-- M3„Çπ„É≠„ÉÉ„ÉàÁî®„Éú„Çø„É≥ -->
     <div class="subslot-toggle-button" style="margin-top: 4px;">
      <button data-subslot-toggle="m3">
       ‚ñº Ë©≥Á¥∞
      </button>
     </div>
     <div class="individual-randomize-button" style="margin-top: 4px;">
      <button class="m3-individual-randomize-btn" style="margin-left: 8px;">
       üé≤
      </button>
     </div>
    </div>
   </div>
   <div class="slot-wrapper" id="slot-o1-sub" style="display: none;">
    <div class="subslot-label" style="font-weight: bold; margin-bottom: 0.5rem;">
     ÁèæÂú®Â±ïÈñã‰∏≠ÔºöO1 „ÅÆ subslot
    </div>
    <div class="subslot" id="slot-o1-sub-m1" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M1
     </label>
     <img alt="image for M1" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-s" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      S
     </label>
     <img alt="image for S" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-aux" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      AUX
     </label>
     <img alt="image for AUX" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-m2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M2
     </label>
     <img alt="image for M2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-v" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      V
     </label>
     <img alt="image for V" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-c1">
     <label>
      C1
     </label>
     <img alt="image for C1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-o1" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      O1
     </label>
     <img alt="image for O1" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-o2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      O2
     </label>
     <img alt="image for O2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-c2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      C2
     </label>
     <img alt="image for C2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o1-sub-m3" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M3
     </label>
     <img alt="image for M3" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
   </div>
   <div class="slot-wrapper" id="slot-m1-sub" style="display: none;">
    <div class="subslot-label" style="font-weight: bold; margin-bottom: 0.5rem;">
     ÁèæÂú®Â±ïÈñã‰∏≠ÔºöM1 „ÅÆ subslot
    </div>
    <div class="subslot" id="slot-m1-sub-m1" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M1
     </label>
     <img alt="image for M1" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-s" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      S
     </label>
     <img alt="image for S" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-aux" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      AUX
     </label>
     <img alt="image for AUX" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-m2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M2
     </label>
     <img alt="image for M2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-v" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      V
     </label>
     <img alt="image for V" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-c1">
     <label>
      C1
     </label>
     <img alt="image for C1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-o1" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      O1
     </label>
     <img alt="image for O1" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-o2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      O2
     </label>
     <img alt="image for O2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-c2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      C2
     </label>
     <img alt="image for C2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m1-sub-m3" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M3
     </label>
     <img alt="image for M3" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
   </div>
   <div class="slot-wrapper" id="slot-o2-sub" style="display: none;">
    <div class="subslot-label" style="font-weight: bold; margin-bottom: 0.5rem;">
     ÁèæÂú®Â±ïÈñã‰∏≠ÔºöO2 „ÅÆ subslot
    </div>
    <div class="subslot" id="slot-o2-sub-m1" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M1
     </label>
     <img alt="image for M1" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-s" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      S
     </label>
     <img alt="image for S" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-aux" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      AUX
     </label>
     <img alt="image for AUX" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-m2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M2
     </label>
     <img alt="image for M2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-v" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      V
     </label>
     <img alt="image for V" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-c1">
     <label>
      C1
     </label>
     <img alt="image for C1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-o1" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      O1
     </label>
     <img alt="image for O1" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-o2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      O2
     </label>
     <img alt="image for O2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-c2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      C2
     </label>
     <img alt="image for C2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-o2-sub-m3" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M3
     </label>
     <img alt="image for M3" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
   </div>
   <div class="slot-wrapper" id="slot-m2-sub" style="display: none;">
    <div class="subslot-label">
     ÁèæÂú®Â±ïÈñã‰∏≠ÔºöM2 „ÅÆ subslot
    </div>
    <div class="subslot" id="slot-m2-sub-m1">
     <label>
      M1
     </label>
     <img alt="image for M1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-s">
     <label>
      S
     </label>
     <img alt="image for S" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-aux">
     <label>
      AUX
     </label>
     <img alt="image for AUX" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-m2">
     <label>
      M2
     </label>
     <img alt="image for M2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-v">
     <label>
      V
     </label>
     <img alt="image for V" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-c1">
     <label>
      C1
     </label>
     <img alt="image for C1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-o1">
     <label>
      O1
     </label>
     <img alt="image for O1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-o2">
     <label>
      O2
     </label>
     <img alt="image for O2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-c2">
     <label>
      C2
     </label>
     <img alt="image for C2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m2-sub-m3">
     <label>
      M3
     </label>
     <img alt="image for M3" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
   </div>
   <div class="slot-wrapper" id="slot-c2-sub" style="display: none;">
    <div class="subslot-label">
     ÁèæÂú®Â±ïÈñã‰∏≠ÔºöC2 „ÅÆ subslot
    </div>
    <div class="subslot" id="slot-c2-sub-m1">
     <label>
      M1
     </label>
     <img alt="image for M1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-s">
     <label>
      S
     </label>
     <img alt="image for S" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-aux">
     <label>
      AUX
     </label>
     <img alt="image for AUX" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-m2">
     <label>
      M2
     </label>
     <img alt="image for M2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-v">
     <label>
      V
     </label>
     <img alt="image for V" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-c1">
     <label>
      C1
     </label>
     <img alt="image for C1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-o1" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      O1
     </label>
     <img alt="image for O1" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-o2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      O2
     </label>
     <img alt="image for O2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-c2" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      C2
     </label>
     <img alt="image for C2" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-c2-sub-m3" style="display: flex; flex-direction: column; align-items: center;">
     <label>
      M3
     </label>
     <img alt="image for M3" class="slot-image"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
   </div>
   <div class="slot-wrapper" id="slot-m3-sub" style="display: none;">
    <div class="subslot-label">
     ÁèæÂú®Â±ïÈñã‰∏≠ÔºöM3 „ÅÆ subslot
    </div>
    <div class="subslot" id="slot-m3-sub-m1">
     <label>
      M1
     </label>
     <img alt="image for M1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-s">
     <label>
      S
     </label>
     <img alt="image for S" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-aux">
     <label>
      AUX
     </label>
     <img alt="image for AUX" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-m2">
     <label>
      M2
     </label>
     <img alt="image for M2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-v">
     <label>
      V
     </label>
     <img alt="image for V" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-c1">
     <label>
      C1
     </label>
     <img alt="image for C1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-o1">
     <label>
      O1
     </label>
     <img alt="image for O1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-o2">
     <label>
      O2
     </label>
     <img alt="image for O2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-c2">
     <label>
      C2
     </label>
     <img alt="image for C2" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
    <div class="subslot" id="slot-m3-sub-m3">
     <label>
      M3
     </label>
     <img alt="image for M3" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
     <div class="slot-text">
        <div class="slot-phrase"></div>
     </div>
    </div>
   </div>
  </section>
  <div class="slot-wrapper" id="slot-s-sub" style="display: none;">
   <div class="subslot-label">
    ÁèæÂú®Â±ïÈñã‰∏≠ÔºöS „ÅÆ subslot
   </div>
   <div class="subslot" id="slot-s-sub-m1">
    <label>
     M1
    </label>
    <img alt="image for M1" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-s">
    <label>
     S
    </label>
    <img alt="image for S" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-aux">
    <label>
     AUX
    </label>
    <img alt="image for AUX" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-m2">
    <label>
     M2
    </label>
    <img alt="image for M2" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-v">
    <label>
     V
    </label>
    <img alt="image for V" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-c1">
    <label>
     C1
    </label>
    <img alt="image for C1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-o1">
    <label>
     O1
    </label>
    <img alt="image for O1" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-o2">
    <label>
     O2
    </label>
    <img alt="image for O2" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-c2">
    <label>
     C2
    </label>
    <img alt="image for C2" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-s-sub-m3">
    <label>
     M3
    </label>
    <img alt="image for M3" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
  </div>
  <div class="slot-wrapper" id="slot-c1-sub" style="display: none;">
   <div class="subslot-label">
    ÁèæÂú®Â±ïÈñã‰∏≠ÔºöC1 „ÅÆ subslot
   </div>
   <div class="subslot" id="slot-c1-sub-m1">
    <label>
     M1
    </label>
    <img alt="image for M1" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-s">
    <label>
     S
    </label>
    <img alt="image for S" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-aux">
    <label>
     AUX
    </label>
    <img alt="image for AUX" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-m2">
    <label>
     M2
    </label>
    <img alt="image for M2" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-v">
    <label>
     V
    </label>
    <img alt="image for V" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-c1">
    <label>
     C1
    </label>
    <img alt="image for C1" class="slot-image" src="slot_images/common/placeholder.png"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-o1">
    <label>
     O1
    </label>
    <img alt="image for O1" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-o2">
    <label>
     O2
    </label>
    <img alt="image for O2" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-c2">
    <label>
     C2
    </label>
    <img alt="image for C2" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
   <div class="subslot" id="slot-c1-sub-m3">
    <label>
     M3
    </label>
    <img alt="image for M3" class="slot-image"/>
        <div class="slot-phrase"></div>
    <div class="slot-text">
        <div class="slot-phrase"></div>
    </div>
   </div>
  </div>
  
  
<script src="js/insert_test_data_clean.js"></script>

<!-- ÂãïÁöÑË®òËºâ„Ç®„É™„Ç¢Áî®„ÅÆ„Çª„ÇØ„Ç∑„Éß„É≥Ë¶ÅÁ¥†„ÇíËøΩÂä† -->
<section id="dynamic-area-container" style="margin-top: 30px;">
  <button id="toggle-dynamic-area" style="background-color: #4CAF50; color: white; border: none; padding: 8px 16px; font-size: 16px; cursor: pointer; border-radius: 4px; margin-bottom: 5px;">
    ‚ñº Ëß£Á≠îÂÖ®Êñá
  </button>
  <!-- ÂãïÁöÑË®òËºâ„Ç®„É™„Ç¢„Åå„Åì„Åì„Å´ÁîüÊàê„Åï„Çå„Åæ„Åô -->
  <div id="dynamic-slot-area-wrapper" style="display: none;"></div>
</section>

<script>
  // ÂãïÁöÑ„Ç®„É™„Ç¢„ÅÆÁîüÊàê‰ΩçÁΩÆ„ÇíÊåáÂÆö
  window.addEventListener("DOMContentLoaded", () => {
    const dynamicArea = document.getElementById("dynamic-slot-area");
    const wrapper = document.getElementById("dynamic-slot-area-wrapper");
    
    // Êó¢Â≠ò„ÅÆdynamic-slot-area„Åå„ÅÇ„Çå„Å∞ÁßªÂãï
    if (dynamicArea && wrapper) {
      // ÂãïÁöÑ„Ç®„É™„Ç¢„Çí„É©„ÉÉ„Éë„Éº„Å´ÁßªÂãï
      wrapper.appendChild(dynamicArea);
      
      // „Åï„Çâ„Å´„ÄÅÂãïÁöÑ„Ç®„É™„Ç¢„ÅÆ„Ç≥„É≥„ÉÜ„Éä„ÇíÊñáÊõ∏„ÅÆÊú´Â∞æ„Å´ÁßªÂãï
      const container = document.getElementById("dynamic-area-container");
      if (container) {
        document.body.appendChild(container);
        console.log("‚úÖ ÂãïÁöÑË®òËºâ„Ç®„É™„Ç¢„Ç≥„É≥„ÉÜ„Éä„ÇíÊñáÊõ∏„ÅÆÊúÄÂæå„Å´ÁßªÂãï„Åó„Åæ„Åó„Åü");
      }
      
      console.log("‚úÖ ÂãïÁöÑË®òËºâ„Ç®„É™„Ç¢„ÇíÈÅ©Âàá„Å™‰ΩçÁΩÆ„Å´ÁßªÂãï„Åó„Åæ„Åó„Åü");
    } else {
      console.warn("‚ö† ÂãïÁöÑË®òËºâ„Ç®„É™„Ç¢„Åæ„Åü„ÅØ„É©„ÉÉ„Éë„Éº„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
    }
  });

  // Ëß£Á≠îÂÖ®Êñá„ÅÆË°®Á§∫„ÉªÈùûË°®Á§∫Âàá„ÇäÊõø„ÅàÊ©üËÉΩ
  document.getElementById("toggle-dynamic-area").addEventListener("click", () => {
    const wrapper = document.getElementById("dynamic-slot-area-wrapper");
    const button = document.getElementById("toggle-dynamic-area");
    
    if (wrapper.style.display === "none") {
      wrapper.style.display = "block";
      button.textContent = "‚ñ≤ Ëß£Á≠îÂÖ®Êñá";
      button.style.backgroundColor = "#f44336"; // Ëµ§Ëâ≤ÔºàÈñâ„Åò„ÇãÁä∂ÊÖãÔºâ
      console.log("‚úÖ Ëß£Á≠îÂÖ®Êñá„Ç®„É™„Ç¢„ÇíË°®Á§∫„Åó„Åæ„Åó„Åü");
    } else {
      wrapper.style.display = "none";
      button.textContent = "‚ñº Ëß£Á≠îÂÖ®Êñá";
      button.style.backgroundColor = "#4CAF50"; // Á∑ëËâ≤ÔºàÈñã„ÅèÁä∂ÊÖãÔºâ
      console.log("‚úÖ Ëß£Á≠îÂÖ®Êñá„Ç®„É™„Ç¢„ÇíÈùûË°®Á§∫„Å´„Åó„Åæ„Åó„Åü");
    }
  });

  // syncDynamicToStatic() „ÇíDOMÊèèÁîªÂÆå‰∫ÜÂæå„Å´ÈÅÖÂª∂ÂÆüË°å
  window.addEventListener("load", () => {
    // „Çµ„Éñ„Çπ„É≠„ÉÉ„Éà„ÇíÊòéÁ§∫ÁöÑ„Å´ÂàùÊúüÂåñÔºàÂÜçÂ∫¶ÂÆüË°å„Åó„Å¶Á¢∫ÂÆü„Å´Èñâ„Åò„ÇãÔºâ
    if (typeof initializeSubslots === 'function') {
      console.log("üîí „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÂÆå‰∫ÜÊôÇ„Å´„Çµ„Éñ„Çπ„É≠„ÉÉ„Éà„ÇíÂàùÊúüÂåñ");
      initializeSubslots();
    }
    
    setTimeout(() => {
      console.log("üöÄ syncDynamicToStatic() ÈÅÖÂª∂Âëº„Å≥Âá∫„Åó");
      if (typeof syncDynamicToStatic === "function") {
        syncDynamicToStatic();
      } else {
        console.warn("‚ö† syncDynamicToStatic Èñ¢Êï∞„ÅåÊú™ÂÆöÁæ©„Åß„Åô");
      }
    }, 200);
  });
</script>

</div> <!-- main-content „ÅÆÁµÇ‰∫Ü -->

</body>
</html>

<script type="module">
import { randomizeAll } from './js/randomizer_all.js';
import { buildStructure } from './js/structure_builder.js';

let loadedJsonData = null;

document.getElementById("loadJsonButton").addEventListener("click", () => {
  const fileInput = document.getElementById("jsonFileInput");
  if (fileInput.files.length === 0) {
    alert("„Éï„Ç°„Ç§„É´„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ");
    return;
  }
  const file = fileInput.files[0];
  const reader = new FileReader();
  reader.onload = (e) => {
    try {
      loadedJsonData = JSON.parse(e.target.result);
      window.loadedJsonData = loadedJsonData;  // „Ç≥„É≥„ÇΩ„Éº„É´Á¢∫Ë™çÁî®
      console.log("üü¢ window.loadedJsonData „Çª„ÉÉ„ÉàÂÆå‰∫Ü:", window.loadedJsonData);
      const data = randomizeAll(loadedJsonData);
      console.log("„É©„É≥„ÉÄ„Éû„Ç§„Ç∫ÁµêÊûúË©≥Á¥∞:", JSON.stringify(data, null, 2));
      validateSlotsModified(data);
      window.loadedJsonData = data;
      buildStructure(data);
      syncDynamicToStatic();
      
      // „Çµ„Éñ„Çπ„É≠„ÉÉ„Éà„ÅÆÂàùÊúüÂåñ„ÇÇÂÆüË°å
      if (typeof initializeSubslots === 'function') {
        console.log("üîí JSON„É≠„Éº„ÉâÂæå„Å´„Çµ„Éñ„Çπ„É≠„ÉÉ„Éà„ÇíÂàùÊúüÂåñ");
        initializeSubslots();
      }
      
      // ÊòéÁ§∫ÁöÑ„Å´‰∏ä‰Ωç„Çπ„É≠„ÉÉ„Éà„Å®„Çµ„Éñ„Çπ„É≠„ÉÉ„Éà„ÅÆÂêåÊúü„ÇíÂëº„Å≥Âá∫„Åô
      if (typeof syncUpperSlotsFromJson === 'function') {
        console.log("üîÑ JSON„É≠„Éº„ÉâÂæå„ÅÆÊòéÁ§∫ÁöÑÂêåÊúüÂëº„Å≥Âá∫„Åó");
        syncUpperSlotsFromJson(data);
        if (typeof syncSubslotsFromJson === 'function') {
          syncSubslotsFromJson(data);
        }
        
        // Ë°®Á§∫È†ÜÂà∂Âæ°Ê©üËÉΩ„ÅÆÂëº„Å≥Âá∫„Åó
        if (typeof applyOrderToAllSlots === 'function') {
          console.log("üî¢ JSON„É≠„Éº„ÉâÂæå„Å´„Çπ„É≠„ÉÉ„ÉàË°®Á§∫È†ÜÈÅ©Áî®");
          applyOrderToAllSlots(data);
        }
        
        if (typeof debugM1Slot === 'function') {
          console.log("üîç M1„Çπ„É≠„ÉÉ„Éà„ÅÆ„Éá„Éê„ÉÉ„Ç∞ÂÆüË°å");
          debugM1Slot();
        }
      }
      
      // üé≠ „É≠„Éº„Éá„Ç£„É≥„Ç∞ÂÆå‰∫ÜÂá¶ÁêÜ
      setTimeout(() => {
        hideLoadingOverlay();
      }, 500); // Âá¶ÁêÜ„ÅåÂÆåÂÖ®„Å´ÁµÇ„Çè„Å£„Å¶„Åã„ÇâÂ∞ë„ÅóÂæÖ„Å§
      
    } catch (err) {
      console.error("‚ùå JSON „Éë„Éº„Çπ„Ç®„É©„Éº„Åæ„Åü„ÅØÂá¶ÁêÜ‰æãÂ§ñ", err);
      alert("ÁÑ°Âäπ„Å™ JSON „Éï„Ç°„Ç§„É´„Åß„Åô");
      hideLoadingOverlay(); // „Ç®„É©„ÉºÊôÇ„ÇÇ„É≠„Éº„Éá„Ç£„É≥„Ç∞„ÇíÈö†„Åô
    }
  };
  reader.readAsText(file);
});

document.getElementById("randomize-all").addEventListener("click", () => {
  if (!loadedJsonData || !Array.isArray(loadedJsonData)) {
    alert("ÂÖà„Å´Ê≠£„Åó„ÅÑJSON„Éá„Éº„Çø„Çí„É≠„Éº„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ");
    console.error("‚ùå ÂÖ®‰Ωì„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ôºö„É≠„Éº„ÉâÊ∏à„Éá„Éº„Çø„Åå‰∏çÊ≠£„Åæ„Åü„ÅØÊú™„É≠„Éº„Éâ");
    return;
  }
  const data = randomizeAll(loadedJsonData);
  console.log("„É©„É≥„ÉÄ„Éû„Ç§„Ç∫ÁµêÊûúË©≥Á¥∞ÔºàÂÖ®‰Ωì„Éú„Çø„É≥Ôºâ:", JSON.stringify(data, null, 2));
  validateSlotsModified(data);
  window.loadedJsonData = data;
  buildStructure(data);
  syncDynamicToStatic();
  
  // „Çµ„Éñ„Çπ„É≠„ÉÉ„Éà„ÅÆÂàùÊúüÂåñ„ÇÇÂÆüË°å
  if (typeof initializeSubslots === 'function') {
    console.log("üîí „É©„É≥„ÉÄ„Éû„Ç§„Ç∫Âæå„Å´„Çµ„Éñ„Çπ„É≠„ÉÉ„Éà„ÇíÂàùÊúüÂåñ");
    initializeSubslots();
  }
  
  // „É©„É≥„ÉÄ„Éû„Ç§„Ç∫Âæå„ÇÇË°®Á§∫È†ÜÂà∂Âæ°„ÇíÈÅ©Áî®
  if (typeof applyOrderToAllSlots === 'function') {
    console.log("üî¢ „É©„É≥„ÉÄ„Éû„Ç§„Ç∫Âæå„ÅÆ„Çπ„É≠„ÉÉ„ÉàË°®Á§∫È†ÜÈÅ©Áî®");
    applyOrderToAllSlots(data);
  }
});

// S„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
document.addEventListener("DOMContentLoaded", () => {
  const sIndividualBtn = document.querySelector(".s-individual-randomize-btn");
  if (sIndividualBtn) {
    sIndividualBtn.addEventListener("click", () => {
      console.log("üé≤ S„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü");
      if (typeof window.randomizeSlotSIndividual === "function") {
        window.randomizeSlotSIndividual();
      } else {
        console.error("‚ùå randomizeSlotSIndividualÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
        alert("„Ç®„É©„Éº: S„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ê©üËÉΩ„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");
      }
    });
    console.log("‚úÖ S„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü");
  } else {
    console.error("‚ùå S„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
});

// M1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
document.addEventListener("DOMContentLoaded", () => {
  const m1IndividualBtn = document.querySelector(".m1-individual-randomize-btn");
  if (m1IndividualBtn) {
    m1IndividualBtn.addEventListener("click", () => {
      console.log("üé≤ M1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü");
      if (typeof window.randomizeSlotM1Individual === "function") {
        window.randomizeSlotM1Individual();
      } else {
        console.error("‚ùå randomizeSlotM1IndividualÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
        alert("„Ç®„É©„Éº: M1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ê©üËÉΩ„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");
      }
    });
    console.log("‚úÖ M1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü");
  } else {
    console.error("‚ùå M1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
});

// M2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
document.addEventListener("DOMContentLoaded", () => {
  const m2IndividualBtn = document.querySelector(".m2-individual-randomize-btn");
  if (m2IndividualBtn) {
    m2IndividualBtn.addEventListener("click", () => {
      console.log("üé≤ M2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü");
      if (typeof window.randomizeSlotM2Individual === "function") {
        window.randomizeSlotM2Individual();
      } else {
        console.error("‚ùå randomizeSlotM2IndividualÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
        alert("„Ç®„É©„Éº: M2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ê©üËÉΩ„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");
      }
    });
    console.log("‚úÖ M2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü");
  } else {
    console.error("‚ùå M2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
});

// C1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
document.addEventListener("DOMContentLoaded", () => {
  const c1IndividualBtn = document.querySelector(".c1-individual-randomize-btn");
  if (c1IndividualBtn) {
    c1IndividualBtn.addEventListener("click", () => {
      console.log("üé≤ C1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü");
      if (typeof window.randomizeSlotC1Individual === "function") {
        window.randomizeSlotC1Individual();
      } else {
        console.error("‚ùå randomizeSlotC1IndividualÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
        alert("„Ç®„É©„Éº: C1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ê©üËÉΩ„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");
      }
    });
    console.log("‚úÖ C1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü");
  } else {
    console.error("‚ùå C1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
});

// O1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
document.addEventListener("DOMContentLoaded", () => {
  const o1IndividualBtn = document.querySelector(".o1-individual-randomize-btn");
  if (o1IndividualBtn) {
    o1IndividualBtn.addEventListener("click", () => {
      console.log("üé≤ O1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü");
      if (typeof window.randomizeSlotO1Individual === "function") {
        window.randomizeSlotO1Individual();
      } else {
        console.error("‚ùå randomizeSlotO1IndividualÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
        alert("„Ç®„É©„Éº: O1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ê©üËÉΩ„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");
      }
    });
    console.log("‚úÖ O1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü");
  } else {
    console.error("‚ùå O1„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
});

// O2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
document.addEventListener("DOMContentLoaded", () => {
  const o2IndividualBtn = document.querySelector(".o2-individual-randomize-btn");
  if (o2IndividualBtn) {
    o2IndividualBtn.addEventListener("click", () => {
      console.log("üé≤ O2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü");
      if (typeof window.randomizeSlotO2Individual === "function") {
        window.randomizeSlotO2Individual();
      } else {
        console.error("‚ùå randomizeSlotO2IndividualÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
        alert("„Ç®„É©„Éº: O2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ê©üËÉΩ„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");
      }
    });
    console.log("‚úÖ O2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü");
  } else {
    console.error("‚ùå O2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
});

// C2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
document.addEventListener("DOMContentLoaded", () => {
  const c2IndividualBtn = document.querySelector(".c2-individual-randomize-btn");
  if (c2IndividualBtn) {
    c2IndividualBtn.addEventListener("click", () => {
      console.log("üé≤ C2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü");
      if (typeof window.randomizeSlotC2Individual === "function") {
        window.randomizeSlotC2Individual();
      } else {
        console.error("‚ùå randomizeSlotC2IndividualÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
        alert("„Ç®„É©„Éº: C2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ê©üËÉΩ„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");
      }
    });
    console.log("‚úÖ C2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü");
  } else {
    console.error("‚ùå C2„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
});

// M3„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
document.addEventListener("DOMContentLoaded", () => {
  const m3IndividualBtn = document.querySelector(".m3-individual-randomize-btn");
  if (m3IndividualBtn) {
    m3IndividualBtn.addEventListener("click", () => {
      console.log("üé≤ M3„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü");
      if (typeof window.randomizeSlotM3Individual === "function") {
        window.randomizeSlotM3Individual();
      } else {
        console.error("‚ùå randomizeSlotM3IndividualÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
        alert("„Ç®„É©„Éº: M3„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫Ê©üËÉΩ„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");
      }
    });
    console.log("‚úÖ M3„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü");
  } else {
    console.error("‚ùå M3„Çπ„É≠„ÉÉ„ÉàÂÄãÂà•„É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
});

function validateSlotsModified(data) {
  const requiredSlots = ["M1", "S", "V"];
  const presentSlots = data.map(d => d.Slot);
  requiredSlots.forEach(slot => {
    if (!presentSlots.includes(slot)) {
      console.warn(`‚ö† ÂøÖÈ†à„Çπ„É≠„ÉÉ„Éà ${slot} „Åå„É©„É≥„ÉÄ„Éû„Ç§„Ç∫ÁµêÊûú„Å´Âê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì`);
    }
  });
}

// „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´ÁñëÂïèË©û„Ç®„É™„Ç¢„ÇíÂàùÊúüÂåñ
document.addEventListener('DOMContentLoaded', function() {
  console.log("üîÑ „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„ÅÆÁñëÂïèË©û„Ç®„É™„Ç¢ÂàùÊúüÂåñ");
  if (window.initializeQuestionWordArea) {
    window.initializeQuestionWordArea();
  }
  
  // Âà∂Âæ°„Éë„Éç„É´Ë°®Á§∫/ÈùûË°®Á§∫„Éú„Çø„É≥„ÅÆÊ©üËÉΩ„ÇíËøΩÂä†
  const toggleControlPanelsBtn = document.getElementById('toggle-control-panels');
  
  if (toggleControlPanelsBtn) {
    toggleControlPanelsBtn.addEventListener('click', function() {
      if (window.toggleAllControlPanels) {
        window.toggleAllControlPanels();
      } else {
        console.error("‚ùå toggleAllControlPanelsÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
      }
    });
    
    console.log("‚úÖ Âà∂Âæ°„Éë„Éç„É´Ë°®Á§∫/ÈùûË°®Á§∫Ê©üËÉΩ„ÇíÂàùÊúüÂåñ„Åó„Åæ„Åó„Åü");
  } else {
    console.warn("‚ö† Âà∂Âæ°„Éë„Éç„É´„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì");
  }
  
  // „É©„É≥„ÉÄ„Éû„Ç§„Ç∫„Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØÊôÇ„ÇÇÁñëÂïèË©û„Ç®„É™„Ç¢„ÇíÂàùÊúüÂåñ
  const randomizeAllButton = document.getElementById('randomize-all');
  if (randomizeAllButton) {
    randomizeAllButton.addEventListener('click', function() {
      // „É©„É≥„ÉÄ„Éû„Ç§„Ç∫Âá¶ÁêÜ„ÅÆÂâç„Å´ÁñëÂïèË©û„Ç®„É™„Ç¢„ÇíÂàùÊúüÂåñ
      setTimeout(() => {
        if (window.initializeQuestionWordArea) {
          window.initializeQuestionWordArea();
          console.log("üîÑ „É©„É≥„ÉÄ„Éû„Ç§„Ç∫Âæå„ÅÆÁñëÂïèË©û„Ç®„É™„Ç¢ÂàùÊúüÂåñ");
        }
      }, 100); // „É©„É≥„ÉÄ„Éû„Ç§„Ç∫Âá¶ÁêÜÂÆå‰∫ÜÂæå„Å´ÂÆüË°å
    });
  }
});

// üé≠ „É≠„Éº„Éá„Ç£„É≥„Ç∞Âà∂Âæ°Èñ¢Êï∞
function hideLoadingOverlay() {
  const overlay = document.getElementById('loading-overlay');
  const mainContent = document.getElementById('main-content');
  
  if (overlay && mainContent) {
    console.log("üé≠ „É≠„Éº„Éá„Ç£„É≥„Ç∞ÂÆå‰∫Ü - „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíË°®Á§∫");
    
    // „É≠„Éº„Éá„Ç£„É≥„Ç∞„Ç™„Éº„Éê„Éº„É¨„Ç§„Çí„Éï„Çß„Éº„Éâ„Ç¢„Ç¶„Éà
    overlay.style.transition = 'opacity 0.5s ease-out';
    overlay.style.opacity = '0';
    
    setTimeout(() => {
      overlay.style.display = 'none';
      
      // „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çí„Éï„Çß„Éº„Éâ„Ç§„É≥
      mainContent.style.display = 'block';
      mainContent.style.opacity = '0';
      mainContent.style.transition = 'opacity 0.5s ease-in';
      
      setTimeout(() => {
        mainContent.style.opacity = '1';
      }, 50);
    }, 500);
  }
}

function showLoadingOverlay() {
  const overlay = document.getElementById('loading-overlay');
  const mainContent = document.getElementById('main-content');
  
  if (overlay && mainContent) {
    console.log("üé≠ „É≠„Éº„Éá„Ç£„É≥„Ç∞ÈñãÂßã - „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíÈö†„Åô");
    
    overlay.style.display = 'flex';
    overlay.style.opacity = '1';
    mainContent.style.display = 'none';
  }
}

// JSON„Éï„Ç°„Ç§„É´„ÅåÈÅ∏Êäû„Åï„Çå„ÅüÊôÇ„ÅÆ„É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫Êõ¥Êñ∞
document.addEventListener('DOMContentLoaded', function() {
  const fileInput = document.getElementById('jsonFileInput');
  const loadingText = document.querySelector('#loading-overlay p');
  
  if (fileInput && loadingText) {
    fileInput.addEventListener('change', function() {
      if (this.files.length > 0) {
        loadingText.textContent = `${this.files[0].name} „ÇíË™≠„ÅøËæº„ÅøÊ∫ñÂÇôÂÆå‰∫Ü`;
      } else {
        loadingText.textContent = 'JSON„Éï„Ç°„Ç§„É´„Çí„É≠„Éº„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ';
      }
    });
  }
});

</script>
