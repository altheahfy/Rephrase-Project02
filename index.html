
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>common.js テスト</title>
  <script type="module">
    import { getStructureId, loadStructureData, updateSlotDisplay, safe } from './common.js';

    document.addEventListener("DOMContentLoaded", async () => {
      // テスト用構文ID（仮に存在する構文IDとする）
      const testId = "INF-N-OBJ-010";

      // スロット表示（仮スロットを更新）
      updateSlotDisplay("slot-v", "to go");

      // データ取得テスト（fetchテスト）
      try {
        const data = await loadStructureData(testId);
        if (data) {
          updateSlotDisplay("slot-o1", safe(data.object));
        } else {
          updateSlotDisplay("slot-o1", "❌ データ取得失敗");
        }
      } catch (e) {
        updateSlotDisplay("slot-o1", "❌ エラー: " + e.message);
      }
    });
  </script>
</head>
<body>
  <h1>common.js テストページ</h1>
  <div id="slot-v" style="border: 1px solid #ccc; padding: 5px; margin: 5px;">slot-v（動詞）</div>
  <div id="slot-o1" style="border: 1px solid #ccc; padding: 5px; margin: 5px;">slot-o1（目的語）</div>
</body>
</html>
