<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M3スロット画像表示デバッグ</title>
    <style>
        .slot-container {
            border: 2px solid #ccc;
            margin: 10px;
            padding: 10px;
            min-height: 100px;
        }
        .slot-image {
            max-width: 300px;
            max-height: 200px;
            object-fit: fill;
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1>M3スロット画像表示デバッグ</h1>
    
    <div class="slot-container" id="slot-m3">
        <h3>M3スロット</h3>
        <div class="slot-text">so the outcome would reflect their full potential</div>
        <div class="slot-images"></div>
    </div>

    <script src="js/universal_image_system.js"></script>
    <script>
        // テストデータ
        const testData = [
            {
                "構文ID": "",
                "V_group_key": "make",
                "例文ID": "ex007",
                "Slot": "M3",
                "SlotPhrase": "so the outcome would reflect their full potential",
                "SlotText": "だから、過去から未来を推量、彼らの",
                "PhraseType": "clause",
                "SubslotID": "",
                "SubslotElement": "",
                "SubslotText": "",
                "Slot_display_order": 8,
                "display_order": 0
            }
        ];

        // lastSelectedSlotsを設定
        window.lastSelectedSlots = testData;

        console.log("🧪 M3スロット画像表示テスト開始");
        console.log("📊 テストデータ:", testData);

        // M3スロットの画像を直接更新
        setTimeout(() => {
            if (typeof window.applyImageToSlot === "function") {
                window.applyImageToSlot('slot-m3');
                console.log("🎨 applyImageToSlot('slot-m3') 実行完了");
            } else {
                console.error("❌ applyImageToSlot関数が見つかりません");
            }
        }, 1000);

        // 手動テストボタン
        function testM3Images() {
            console.log("🔧 手動M3画像更新テスト");
            window.applyImageToSlot('slot-m3');
        }
    </script>

    <button onclick="testM3Images()">M3画像更新テスト</button>
</body>
</html>
