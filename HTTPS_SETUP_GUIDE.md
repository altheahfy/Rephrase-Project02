# ğŸ“± Rephrase HTTPSé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

## ğŸ“‹ å¿…è¦ãªæº–å‚™

### 1. Node.js http-server ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm install -g http-server
```

### 2. OpenSSL ã§è‡ªå·±ç½²åè¨¼æ˜æ›¸ã‚’ä½œæˆï¼ˆWindowsï¼‰
```bash
# ç§˜å¯†éµã‚’ä½œæˆ
openssl genrsa -out server.key 2048

# è¨¼æ˜æ›¸ç½²åè¦æ±‚ï¼ˆCSRï¼‰ã‚’ä½œæˆ
openssl req -new -key server.key -out server.csr -config ssl.conf

# è‡ªå·±ç½²åè¨¼æ˜æ›¸ã‚’ä½œæˆï¼ˆ1å¹´é–“æœ‰åŠ¹ï¼‰
openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt -extensions v3_req -extfile ssl.conf
```

### 3. SSLè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆssl.confï¼‰
```ini
[req]
distinguished_name = req_distinguished_name
req_extensions = v3_req
prompt = no

[req_distinguished_name]
C = JP
ST = Tokyo
L = Tokyo
O = Rephrase Development
OU = Development Team
CN = 192.168.1.100

[v3_req]
keyUsage = keyEncipherment, dataEncipherment
extendedKeyUsage = serverAuth
subjectAltName = @alt_names

[alt_names]
DNS.1 = localhost
IP.1 = 127.0.0.1
IP.2 = 192.168.1.100
```

## ğŸš€ ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã‚³ãƒãƒ³ãƒ‰

### HTTPSå¯¾å¿œã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã§å®Ÿè¡Œ
http-server -p 8443 -S -C server.crt -K server.key -a 0.0.0.0 --cors

# ã¾ãŸã¯ã€ã‚ˆã‚Šç°¡å˜ãªæ–¹æ³•ï¼ˆè‡ªå‹•è¨¼æ˜æ›¸ç”Ÿæˆï¼‰
http-server -p 8443 -S -a 0.0.0.0 --cors
```

### ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•
```
PC: https://localhost:8443
ã‚¹ãƒãƒ›: https://192.168.1.100:8443 ï¼ˆPCã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰
```

## âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …

### ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨¼æ˜æ›¸è­¦å‘Š
1. **PC Chrome**: ã€Œè©³ç´°è¨­å®šã€â†’ã€Œå®‰å…¨ã§ãªã„ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã€
2. **Android Chrome**: ã€Œè©³ç´°ã€â†’ã€Œ192.168.1.100ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆå®‰å…¨ã§ãªã„ï¼‰ã€
3. **iPhone Safari**: ã€Œè©³ç´°ã€â†’ã€ŒWebã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã€

### è¨¼æ˜æ›¸ã®æ°¸ç¶šçš„ä¿¡é ¼è¨­å®š
**Android Chrome:**
1. è¨­å®š â†’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
2. è©³ç´°è¨­å®š â†’ è¨¼æ˜æ›¸ã®ç®¡ç†
3. server.crt ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

**iPhone:**
1. è¨­å®š â†’ ä¸€èˆ¬ â†’ VPNã¨ãƒ‡ãƒã‚¤ã‚¹ç®¡ç†
2. è¨¼æ˜æ›¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. è¨­å®š â†’ ä¸€èˆ¬ â†’ æƒ…å ± â†’ è¨¼æ˜æ›¸ä¿¡é ¼è¨­å®š

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### 1. ERR_CERT_AUTHORITY_INVALID
**åŸå› **: è‡ªå·±ç½²åè¨¼æ˜æ›¸ã«ã‚ˆã‚‹è­¦å‘Š
**è§£æ±º**: ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Œå®‰å…¨ã§ãªã„ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã€ã‚’é¸æŠ

#### 2. ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦
**åŸå› **: HTTPSã§ã‚‚ãƒã‚¤ã‚¯è¨±å¯ãŒå¿…è¦
**è§£æ±º**: ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³ã‹ã‚‰ã€Œãƒã‚¤ã‚¯è¨±å¯ã€

#### 3. æ¥ç¶šã§ããªã„
**åŸå› **: ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã«ã‚ˆã‚‹ãƒ–ãƒ­ãƒƒã‚¯
**è§£æ±º**: Windows Defender ã§ãƒãƒ¼ãƒˆ8443ã‚’è¨±å¯

### è¨ºæ–­ã‚³ãƒãƒ³ãƒ‰
```bash
# PCã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ç¢ºèª
ipconfig

# ãƒãƒ¼ãƒˆé–‹æ”¾ç¢ºèª
netstat -an | findstr 8443

# ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ç¢ºèª
netsh advfirewall firewall show rule name="Node.js"
```

## ğŸ¯ æœ€çµ‚ç¢ºèª

### æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³
```
âœ… https://192.168.1.100:8443 ã§ã‚¢ã‚¯ã‚»ã‚¹
âœ… è¨¼æ˜æ›¸è­¦å‘Šã‚’æ‰¿èª
âœ… ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯
âœ… ã€Œâœ… ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯å–å¾—æ¸ˆã¿ã€ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º
âœ… éŒ²éŸ³ãƒœã‚¿ãƒ³ãŒæ­£å¸¸å‹•ä½œ
```

### ä»£æ›¿ç¢ºèªæ–¹æ³•
diagnostic tool: `https://192.168.1.100:8443/microphone-diagnosis.html`
